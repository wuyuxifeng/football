$gwx2_XC_1=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx2_XC_1 || [];
function gz$gwx2_XC_1_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_1)return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_1
__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_1);return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_1
}
function gz$gwx2_XC_1_2(){
if( __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_2)return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_2
__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_2=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'__l'])
Z([3,'data-v-a5fc6274 vue-ref'])
Z([3,'popup'])
Z([1,false])
Z([3,'bottom'])
Z([3,'12c8c629-1'])
Z([[4],[[5],[1,'default']]])
Z([3,'eventdetail data-v-a5fc6274'])
Z([[2,'&&'],[[2,'=='],[[7],[3,'policyNum']],[1,0]],[[2,'>'],[[7],[3,'couponTotalAmount']],[1,0]]])
Z([[2,'>'],[[7],[3,'deliveryFee']],[1,0]])
Z([[2,'&&'],[[7],[3,'isSelectUsePoint']],[[2,'>'],[[7],[3,'deductionAmount']],[1,0]]])
Z([[2,'>'],[[7],[3,'couponDisAmount']],[1,0]])
Z([[2,'&&'],[[7],[3,'policyName']],[[2,'>'],[[7],[3,'policyNum']],[1,0]]])
Z(z[12])
})(__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_2);return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_2
}
function gz$gwx2_XC_1_3(){
if( __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_3)return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_3
__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_3=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'__l'])
Z([3,'data-v-4f4ba692 vue-ref'])
Z([3,'popup'])
Z([1,false])
Z([3,'bottom'])
Z([3,'09c77cec-1'])
Z([[4],[[5],[1,'default']]])
Z([3,'index'])
Z([3,'item'])
Z([[6],[[7],[3,'$root']],[3,'l0']])
Z(z[7])
Z([3,'__e'])
Z([3,'data-v-4f4ba692'])
Z([[4],[[5],[[4],[[5],[[5],[1,'tap']],[[4],[[5],[[4],[[5],[[5],[1,'selectCoup']],[[4],[[5],[[7],[3,'index']]]]]]]]]]]])
Z([[2,'=='],[[6],[[6],[[7],[3,'item']],[3,'$orig']],[3,'status']],[1,0]])
Z([[2,'==='],[[6],[[6],[[7],[3,'item']],[3,'$orig']],[3,'discountType']],[1,'1']])
})(__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_3);return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_3
}
function gz$gwx2_XC_1_4(){
if( __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_4)return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_4
__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_4=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([1,false])
Z([3,'__l'])
Z([3,'data-v-2034b766 vue-ref'])
Z([3,'popup'])
Z(z[0])
Z([3,'bottom'])
Z([3,'7238d78c-1'])
Z([[4],[[5],[1,'default']]])
})(__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_4);return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_4
}
function gz$gwx2_XC_1_5(){
if( __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_5)return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_5
__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_5=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'data-v-92b2fa28'])
Z([[7],[3,'groupShow']])
Z([3,'index'])
Z([3,'item'])
Z([[6],[[7],[3,'$root']],[3,'l0']])
Z(z[2])
Z([3,'ticketinfo data-v-92b2fa28'])
Z([[2,'!='],[[6],[[6],[[7],[3,'item']],[3,'$orig']],[3,'seatSnapshot']],[1,'无座位']])
Z([[2,'=='],[[7],[3,'realNameType']],[1,3]])
})(__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_5);return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_5
}
function gz$gwx2_XC_1_6(){
if( __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_6)return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_6
__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_6=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'indexParent'])
Z([3,'itemParent'])
Z([[6],[[7],[3,'$root']],[3,'l1']])
Z(z[0])
Z([3,'groupparent data-v-3cce2ea3'])
Z([[7],[3,'groupShow']])
Z([3,'index'])
Z([3,'item'])
Z([[6],[[7],[3,'itemParent']],[3,'l0']])
Z(z[6])
Z([3,'data-v-3cce2ea3'])
Z([[2,'!='],[[6],[[6],[[7],[3,'item']],[3,'$orig']],[3,'seatSnapshot']],[1,'无座位']])
Z([[2,'=='],[[7],[3,'realNameType']],[1,3]])
Z([[2,'!='],[[7],[3,'index']],[[2,'-'],[[6],[[7],[3,'item']],[3,'g0']],[1,1]]])
})(__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_6);return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_6
}
function gz$gwx2_XC_1_7(){
if( __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_7)return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_7
__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_7=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'content data-v-5a8db746'])
Z([[2,'!='],[[7],[3,'platform']],[1,'TT']])
Z([3,'transparent'])
Z([3,'__l'])
Z([3,'__e'])
Z([1,false])
Z([3,'data-v-5a8db746'])
Z([1,true])
Z([[4],[[5],[[4],[[5],[[5],[1,'^clickLeft']],[[4],[[5],[[4],[[5],[1,'back']]]]]]]]])
Z(z[7])
Z([[2,'?:'],[[2,'!='],[[7],[3,'platform']],[1,'ALI']],[1,'left'],[1,'']])
Z(z[7])
Z([3,'订单支付'])
Z([3,'48cb9f26-1'])
Z([3,'mainContent data-v-5a8db746'])
Z([3,'eventdetail data-v-5a8db746'])
Z([3,'ddd data-v-5a8db746'])
Z([[2,'>'],[[6],[[7],[3,'$root']],[3,'g0']],[1,0]])
Z(z[3])
Z(z[4])
Z(z[6])
Z([[4],[[5],[[4],[[5],[[5],[1,'^goPurchaserDetailTp']],[[4],[[5],[[4],[[5],[1,'goPurchaserDetailTp']]]]]]]]])
Z([[7],[3,'listticketBindTp']])
Z([[6],[[7],[3,'$root']],[3,'m2']])
Z([3,'48cb9f26-2'])
Z(z[3])
Z(z[4])
Z(z[6])
Z([[4],[[5],[[4],[[5],[[5],[1,'^goPurchaserDetail']],[[4],[[5],[[4],[[5],[1,'goPurchaserDetail']]]]]]]]])
Z([[7],[3,'listticketBind']])
Z([[6],[[7],[3,'$root']],[3,'m3']])
Z([3,'48cb9f26-3'])
Z([3,'chupiao data-v-5a8db746'])
Z([[6],[[7],[3,'$root']],[3,'g1']])
Z([[6],[[7],[3,'$root']],[3,'g2']])
Z([[2,'=='],[[6],[[7],[3,'selectDrawtype']],[3,'pickUpType']],[1,3]])
Z([[2,'=='],[[6],[[7],[3,'selectDrawtype']],[3,'drawOutType']],[1,2]])
Z([[2,'=='],[[7],[3,'hasEntry']],[1,1]])
Z([[7],[3,'entryNote']])
Z(z[1])
Z([[7],[3,'pointSwitchOn']])
Z(z[3])
Z(z[4])
Z([3,'data-v-5a8db746 vue-ref'])
Z([3,'#1A1A1A'])
Z([[4],[[5],[[4],[[5],[[5],[1,'^getPaymentType']],[[4],[[5],[[4],[[5],[1,'getPaymentType']]]]]]]]])
Z([3,'refPayway'])
Z([3,'32rpx'])
Z([3,'48cb9f26-4'])
Z([3,'bottom data-v-5a8db746'])
Z([[2,'+'],[[2,'+'],[1,'height:'],[[2,'?:'],[[7],[3,'buyProtocolOn']],[1,'205rpx'],[1,'150rpx']]],[1,';']])
Z([[7],[3,'buyProtocolOn']])
Z([[2,'>'],[[7],[3,'couponAmountVisible']],[1,0]])
Z(z[3])
Z(z[4])
Z(z[4])
Z(z[4])
Z(z[4])
Z(z[43])
Z([[4],[[5],[[5],[[5],[[5],[[4],[[5],[[5],[1,'^closePurchaser']],[[4],[[5],[[4],[[5],[1,'hidePupop']]]]]]]],[[4],[[5],[[5],[1,'^addPurchaser']],[[4],[[5],[[4],[[5],[1,'addPurchaser']]]]]]]],[[4],[[5],[[5],[1,'^surePurchaser']],[[4],[[5],[[4],[[5],[1,'surePurchaser']]]]]]]],[[4],[[5],[[5],[1,'^input']],[[4],[[5],[[4],[[5],[[5],[1,'__set_model']],[[4],[[5],[[5],[[5],[[5],[1,'']],[1,'purchaserAar']],[1,'$event']],[[4],[[5]]]]]]]]]]]]])
Z([3,'popupPurchaser'])
Z([[7],[3,'idcardTypesLimitMsg']])
Z([[7],[3,'purchaserAar']])
Z([3,'48cb9f26-5'])
Z(z[3])
Z(z[4])
Z(z[43])
Z([[4],[[5],[[4],[[5],[[5],[1,'^change']],[[4],[[5],[[4],[[5],[1,'changePupop']]]]]]]]])
Z([3,'popupshaddress'])
Z([3,'bottom'])
Z([3,'48cb9f26-6'])
Z([[4],[[5],[1,'default']]])
Z([[7],[3,'addressAar']])
Z(z[3])
Z(z[4])
Z(z[4])
Z(z[4])
Z(z[4])
Z(z[4])
Z(z[6])
Z([[4],[[5],[[5],[[5],[[5],[[5],[[4],[[5],[[5],[1,'^closeSHAddress']],[[4],[[5],[[4],[[5],[1,'closeSHAddress']]]]]]]],[[4],[[5],[[5],[1,'^changeSHAddress']],[[4],[[5],[[4],[[5],[1,'changeSHAddress']]]]]]]],[[4],[[5],[[5],[1,'^editAddress']],[[4],[[5],[[4],[[5],[1,'editAddress']]]]]]]],[[4],[[5],[[5],[1,'^addAddress']],[[4],[[5],[[4],[[5],[1,'addAddress']]]]]]]],[[4],[[5],[[5],[1,'^sureAddress']],[[4],[[5],[[4],[[5],[1,'sureAddress']]]]]]]]])
Z(z[7])
Z([[2,'+'],[[2,'+'],[1,'48cb9f26-7'],[1,',']],[1,'48cb9f26-6']])
Z(z[3])
Z(z[4])
Z(z[43])
Z(z[67])
Z([3,'popupqpaddress'])
Z(z[69])
Z([3,'48cb9f26-8'])
Z(z[71])
Z([[7],[3,'ticketshop']])
Z(z[3])
Z(z[4])
Z(z[6])
Z([[4],[[5],[[4],[[5],[[5],[1,'tap']],[[4],[[5],[[4],[[5],[[5],[1,'closeQPAddress']],[[4],[[5],[1,'$event']]]]]]]]]]])
Z([[2,'+'],[[2,'+'],[1,'48cb9f26-9'],[1,',']],[1,'48cb9f26-8']])
Z(z[3])
Z(z[4])
Z(z[43])
Z([[7],[3,'couponDisAmount']])
Z([[4],[[5],[[4],[[5],[[5],[1,'^closeDetail']],[[4],[[5],[[4],[[5],[1,'hidePupop']]]]]]]]])
Z([3,'popupOrdDetail'])
Z([[6],[[7],[3,'$root']],[3,'m12']])
Z([[7],[3,'deliveryFee']])
Z([[7],[3,'isSelectUsePoint']])
Z([[7],[3,'policyName']])
Z([[6],[[7],[3,'$root']],[3,'g6']])
Z([[7],[3,'salePriceChangeMsgAar']])
Z([[7],[3,'formData']])
Z([[7],[3,'totalTicketNum']])
Z([3,'48cb9f26-10'])
Z(z[3])
Z(z[4])
Z(z[43])
Z(z[67])
Z([3,'drawoutTypePop'])
Z(z[69])
Z([3,'48cb9f26-11'])
Z(z[71])
Z(z[3])
Z(z[4])
Z(z[4])
Z(z[6])
Z([[4],[[5],[[5],[[4],[[5],[[5],[1,'^changeDrawoutType']],[[4],[[5],[[4],[[5],[1,'changeDrawoutType']]]]]]]],[[4],[[5],[[5],[1,'^closeDrawoutType']],[[4],[[5],[[4],[[5],[1,'hideChangeDrawoutPop']]]]]]]]])
Z([[7],[3,'selectDrawtype']])
Z([[7],[3,'sendList']])
Z([[2,'+'],[[2,'+'],[1,'48cb9f26-12'],[1,',']],[1,'48cb9f26-11']])
Z(z[3])
Z(z[4])
Z(z[43])
Z([[4],[[5],[[4],[[5],[[5],[1,'^hidePupop']],[[4],[[5],[[4],[[5],[1,'hidePupop']]]]]]]]])
Z([3,'noPayWarn'])
Z([3,'48cb9f26-13'])
Z(z[3])
Z(z[4])
Z(z[4])
Z(z[43])
Z([[4],[[5],[[5],[[4],[[5],[[5],[1,'^selectCoup']],[[4],[[5],[[4],[[5],[1,'selectCoup']]]]]]]],[[4],[[5],[[5],[1,'^input']],[[4],[[5],[[4],[[5],[[5],[1,'__set_model']],[[4],[[5],[[5],[[5],[[5],[1,'']],[1,'couponList']],[1,'$event']],[[4],[[5]]]]]]]]]]]]])
Z([3,'selectCouponPop'])
Z([[7],[3,'couponList']])
Z([3,'48cb9f26-14'])
Z(z[3])
Z(z[4])
Z(z[43])
Z(z[67])
Z([3,'orderExitWarn'])
Z([3,'center'])
Z([3,'48cb9f26-15'])
Z(z[71])
Z(z[3])
Z(z[4])
Z(z[4])
Z(z[6])
Z([[4],[[5],[[5],[[4],[[5],[[5],[1,'^orderExitClose']],[[4],[[5],[[4],[[5],[1,'orderExitClose']]]]]]]],[[4],[[5],[[5],[1,'^orderExitConfirm']],[[4],[[5],[[4],[[5],[1,'orderExitConfirm']]]]]]]]])
Z([[2,'+'],[[2,'+'],[1,'48cb9f26-16'],[1,',']],[1,'48cb9f26-15']])
Z([[7],[3,'totalPoints']])
Z(z[3])
Z(z[4])
Z(z[43])
Z([[4],[[5],[[4],[[5],[[5],[1,'^saveOffset']],[[4],[[5],[[4],[[5],[1,'saveOffset']]]]]]]]])
Z([3,'setPoint'])
Z([[7],[3,'deductionPoint']])
Z([[7],[3,'deductionMoneyText']])
Z([3,'48cb9f26-17'])
Z(z[3])
Z(z[4])
Z(z[43])
Z(z[67])
Z([3,'confirmGoNextPop'])
Z(z[5])
Z(z[147])
Z([3,'48cb9f26-18'])
Z(z[71])
Z(z[3])
Z(z[4])
Z(z[43])
Z([[4],[[5],[[4],[[5],[[5],[1,'^closeNotes']],[[4],[[5],[[4],[[5],[1,'hidePupop']]]]]]]]])
Z([3,'richNotePopup'])
Z(z[7])
Z([[7],[3,'popupMaxHeight']])
Z([[7],[3,'buyProtocolContext']])
Z([3,'购买协议'])
Z([3,'48cb9f26-19'])
Z(z[3])
Z(z[43])
Z([3,'confirm'])
Z([3,'48cb9f26-20'])
Z(z[3])
Z(z[43])
Z([3,'verifycode'])
Z([3,'48cb9f26-21'])
})(__WXML_GLOBAL__.ops_cached.$gwx2_XC_1_7);return __WXML_GLOBAL__.ops_cached.$gwx2_XC_1_7
}
__WXML_GLOBAL__.ops_set.$gwx2_XC_1=z;
__WXML_GLOBAL__.ops_init.$gwx2_XC_1=true;
var x=['./pages_game/components/choosedrawouttype/choosedrawouttype.wxml','./pages_game/components/pricedetailold/pricedetail.wxml','./pages_game/components/selectCoupon/selectCoupon.wxml','./pages_game/components/setPointOffset/setPointOffset.wxml','./pages_game/components/ticketpurchaser/ticketpurchaser.wxml','./pages_game/components/ticketpurchaserTp/ticketpurchaserTp.wxml','./pages_game/gameevent/eventpay.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx2_XC_1_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
d_[x[1]]={}
var m1=function(e,s,r,gg){
var z=gz$gwx2_XC_1_2()
var eLC=_mz(z,'uni-popup',['bind:__l',0,'class',1,'data-ref',1,'maskClick',2,'type',3,'vueId',4,'vueSlots',5],[],e,s,gg)
var bMC=_n('view')
_rz(z,bMC,'class',7,e,s,gg)
var oNC=_v()
_(bMC,oNC)
if(_oz(z,8,e,s,gg)){oNC.wxVkey=1
}
var xOC=_v()
_(bMC,xOC)
if(_oz(z,9,e,s,gg)){xOC.wxVkey=1
}
var oPC=_v()
_(bMC,oPC)
if(_oz(z,10,e,s,gg)){oPC.wxVkey=1
}
else{oPC.wxVkey=2
var hSC=_v()
_(oPC,hSC)
if(_oz(z,11,e,s,gg)){hSC.wxVkey=1
}
hSC.wxXCkey=1
}
var fQC=_v()
_(bMC,fQC)
if(_oz(z,12,e,s,gg)){fQC.wxVkey=1
}
var cRC=_v()
_(bMC,cRC)
if(_oz(z,13,e,s,gg)){cRC.wxVkey=1
}
oNC.wxXCkey=1
xOC.wxXCkey=1
oPC.wxXCkey=1
fQC.wxXCkey=1
cRC.wxXCkey=1
_(eLC,bMC)
_(r,eLC)
return r
}
e_[x[1]]={f:m1,j:[],i:[],ti:[],ic:[]}
d_[x[2]]={}
var m2=function(e,s,r,gg){
var z=gz$gwx2_XC_1_3()
var cUC=_mz(z,'uni-popup',['bind:__l',0,'class',1,'data-ref',1,'maskClick',2,'type',3,'vueId',4,'vueSlots',5],[],e,s,gg)
var oVC=_v()
_(cUC,oVC)
var lWC=function(tYC,aXC,eZC,gg){
var o2C=_mz(z,'view',['bindtap',11,'class',1,'data-event-opts',2],[],tYC,aXC,gg)
var x3C=_v()
_(o2C,x3C)
if(_oz(z,14,tYC,aXC,gg)){x3C.wxVkey=1
var o4C=_v()
_(x3C,o4C)
if(_oz(z,15,tYC,aXC,gg)){o4C.wxVkey=1
}
o4C.wxXCkey=1
}
x3C.wxXCkey=1
_(eZC,o2C)
return eZC
}
oVC.wxXCkey=2
_2z(z,9,lWC,e,s,gg,oVC,'item','index','index')
_(r,cUC)
return r
}
e_[x[2]]={f:m2,j:[],i:[],ti:[],ic:[]}
d_[x[3]]={}
var m3=function(e,s,r,gg){
var z=gz$gwx2_XC_1_4()
var c6C=_mz(z,'uni-popup',['animation',0,'bind:__l',1,'class',1,'data-ref',2,'maskClick',3,'type',4,'vueId',5,'vueSlots',6],[],e,s,gg)
_(r,c6C)
return r
}
e_[x[3]]={f:m3,j:[],i:[],ti:[],ic:[]}
d_[x[4]]={}
var m4=function(e,s,r,gg){
var z=gz$gwx2_XC_1_5()
var o8C=_n('view')
_rz(z,o8C,'class',0,e,s,gg)
var c9C=_v()
_(o8C,c9C)
if(_oz(z,1,e,s,gg)){c9C.wxVkey=1
}
else{c9C.wxVkey=2
var o0C=_v()
_(c9C,o0C)
var lAD=function(tCD,aBD,eDD,gg){
var oFD=_n('view')
_rz(z,oFD,'class',6,tCD,aBD,gg)
var xGD=_v()
_(oFD,xGD)
if(_oz(z,7,tCD,aBD,gg)){xGD.wxVkey=1
}
var oHD=_v()
_(oFD,oHD)
if(_oz(z,8,tCD,aBD,gg)){oHD.wxVkey=1
}
xGD.wxXCkey=1
oHD.wxXCkey=1
_(eDD,oFD)
return eDD
}
o0C.wxXCkey=2
_2z(z,4,lAD,e,s,gg,o0C,'item','index','index')
}
c9C.wxXCkey=1
_(r,o8C)
return r
}
e_[x[4]]={f:m4,j:[],i:[],ti:[],ic:[]}
d_[x[5]]={}
var m5=function(e,s,r,gg){
var z=gz$gwx2_XC_1_6()
var cJD=_v()
_(r,cJD)
var hKD=function(cMD,oLD,oND,gg){
var aPD=_n('view')
_rz(z,aPD,'class',4,cMD,oLD,gg)
var tQD=_v()
_(aPD,tQD)
if(_oz(z,5,cMD,oLD,gg)){tQD.wxVkey=1
}
else{tQD.wxVkey=2
var eRD=_v()
_(tQD,eRD)
var bSD=function(xUD,oTD,oVD,gg){
var cXD=_n('view')
_rz(z,cXD,'class',10,xUD,oTD,gg)
var hYD=_v()
_(cXD,hYD)
if(_oz(z,11,xUD,oTD,gg)){hYD.wxVkey=1
}
var oZD=_v()
_(cXD,oZD)
if(_oz(z,12,xUD,oTD,gg)){oZD.wxVkey=1
}
var c1D=_v()
_(cXD,c1D)
if(_oz(z,13,xUD,oTD,gg)){c1D.wxVkey=1
}
hYD.wxXCkey=1
oZD.wxXCkey=1
c1D.wxXCkey=1
_(oVD,cXD)
return oVD
}
eRD.wxXCkey=2
_2z(z,8,bSD,cMD,oLD,gg,eRD,'item','index','index')
}
tQD.wxXCkey=1
_(oND,aPD)
return oND
}
cJD.wxXCkey=2
_2z(z,2,hKD,e,s,gg,cJD,'itemParent','indexParent','indexParent')
return r
}
e_[x[5]]={f:m5,j:[],i:[],ti:[],ic:[]}
d_[x[6]]={}
var m6=function(e,s,r,gg){
var z=gz$gwx2_XC_1_7()
var l3D=_n('view')
_rz(z,l3D,'class',0,e,s,gg)
var a4D=_v()
_(l3D,a4D)
if(_oz(z,1,e,s,gg)){a4D.wxVkey=1
var t5D=_mz(z,'uni-nav-bar',['backgroundColor',2,'bind:__l',1,'bind:clickLeft',2,'border',3,'class',4,'dark',5,'data-event-opts',6,'fixed',7,'leftIcon',8,'statusBar',9,'title',10,'vueId',11],[],e,s,gg)
_(a4D,t5D)
}
var e6D=_n('view')
_rz(z,e6D,'class',14,e,s,gg)
var b7D=_n('view')
_rz(z,b7D,'class',15,e,s,gg)
var o0D=_n('view')
_rz(z,o0D,'class',16,e,s,gg)
var fAE=_v()
_(o0D,fAE)
if(_oz(z,17,e,s,gg)){fAE.wxVkey=1
var cBE=_mz(z,'ticketpurchaser-tp',['bind:__l',18,'bind:goPurchaserDetailTp',1,'class',2,'data-event-opts',3,'listticket',4,'realNameType',5,'vueId',6],[],e,s,gg)
_(fAE,cBE)
}
else{fAE.wxVkey=2
var hCE=_mz(z,'ticketpurchaser',['bind:__l',25,'bind:goPurchaserDetail',1,'class',2,'data-event-opts',3,'listticket',4,'realNameType',5,'vueId',6],[],e,s,gg)
_(fAE,hCE)
}
var oDE=_n('view')
_rz(z,oDE,'class',32,e,s,gg)
var cEE=_v()
_(oDE,cEE)
if(_oz(z,33,e,s,gg)){cEE.wxVkey=1
}
var oFE=_v()
_(oDE,oFE)
if(_oz(z,34,e,s,gg)){oFE.wxVkey=1
}
var lGE=_v()
_(oDE,lGE)
if(_oz(z,35,e,s,gg)){lGE.wxVkey=1
}
var aHE=_v()
_(oDE,aHE)
if(_oz(z,36,e,s,gg)){aHE.wxVkey=1
}
cEE.wxXCkey=1
oFE.wxXCkey=1
lGE.wxXCkey=1
aHE.wxXCkey=1
_(o0D,oDE)
fAE.wxXCkey=1
fAE.wxXCkey=3
fAE.wxXCkey=3
_(b7D,o0D)
var o8D=_v()
_(b7D,o8D)
if(_oz(z,37,e,s,gg)){o8D.wxVkey=1
var tIE=_v()
_(o8D,tIE)
if(_oz(z,38,e,s,gg)){tIE.wxVkey=1
}
tIE.wxXCkey=1
}
var x9D=_v()
_(b7D,x9D)
if(_oz(z,39,e,s,gg)){x9D.wxVkey=1
var eJE=_v()
_(x9D,eJE)
if(_oz(z,40,e,s,gg)){eJE.wxVkey=1
}
eJE.wxXCkey=1
}
var bKE=_mz(z,'paywayradio',['bind:__l',41,'bind:getPaymentType',1,'class',2,'color',3,'data-event-opts',4,'data-ref',5,'titleSize',6,'vueId',7],[],e,s,gg)
_(b7D,bKE)
o8D.wxXCkey=1
x9D.wxXCkey=1
_(e6D,b7D)
var oLE=_mz(z,'view',['class',49,'style',1],[],e,s,gg)
var xME=_v()
_(oLE,xME)
if(_oz(z,51,e,s,gg)){xME.wxVkey=1
}
var oNE=_v()
_(oLE,oNE)
if(_oz(z,52,e,s,gg)){oNE.wxVkey=1
}
xME.wxXCkey=1
oNE.wxXCkey=1
_(e6D,oLE)
var fOE=_mz(z,'choosepurchaser',['bind:__l',53,'bind:addPurchaser',1,'bind:closePurchaser',2,'bind:input',3,'bind:surePurchaser',4,'class',5,'data-event-opts',6,'data-ref',7,'idcardTypesLimitMsg',8,'value',9,'vueId',10],[],e,s,gg)
_(e6D,fOE)
var cPE=_mz(z,'uni-popup',['bind:__l',64,'bind:change',1,'class',2,'data-event-opts',3,'data-ref',4,'type',5,'vueId',6,'vueSlots',7],[],e,s,gg)
var hQE=_mz(z,'goodsaddress',['addressAar',72,'bind:__l',1,'bind:addAddress',2,'bind:changeSHAddress',3,'bind:closeSHAddress',4,'bind:editAddress',5,'bind:sureAddress',6,'class',7,'data-event-opts',8,'isShowEditBtn',9,'vueId',10],[],e,s,gg)
_(cPE,hQE)
_(e6D,cPE)
var oRE=_mz(z,'uni-popup',['bind:__l',83,'bind:change',1,'class',2,'data-event-opts',3,'data-ref',4,'type',5,'vueId',6,'vueSlots',7],[],e,s,gg)
var cSE=_mz(z,'ticketaddress',['addressAar',91,'bind:__l',1,'bindtap',2,'class',3,'data-event-opts',4,'vueId',5],[],e,s,gg)
_(oRE,cSE)
_(e6D,oRE)
var oTE=_mz(z,'pricedetail',['bind:__l',97,'bind:closeDetail',1,'class',2,'couponDisAmount',3,'data-event-opts',4,'data-ref',5,'deductionAmount',6,'deliveryFee',7,'isSelectUsePoint',8,'policyName',9,'policyNum',10,'salePriceChangeMsgAar',11,'ticketAar',12,'totalTicketNum',13,'vueId',14],[],e,s,gg)
_(e6D,oTE)
var lUE=_mz(z,'uni-popup',['bind:__l',112,'bind:change',1,'class',2,'data-event-opts',3,'data-ref',4,'type',5,'vueId',6,'vueSlots',7],[],e,s,gg)
var aVE=_mz(z,'choose-drawout-type',['bind:__l',120,'bind:changeDrawoutType',1,'bind:closeDrawoutType',2,'class',3,'data-event-opts',4,'selectedDrawoutType',5,'typeItems',6,'vueId',7],[],e,s,gg)
_(lUE,aVE)
_(e6D,lUE)
var tWE=_mz(z,'order-no-pay',['bind:__l',128,'bind:hidePupop',1,'class',2,'data-event-opts',3,'data-ref',4,'vueId',5],[],e,s,gg)
_(e6D,tWE)
var eXE=_mz(z,'select-coupon',['bind:__l',134,'bind:input',1,'bind:selectCoup',2,'class',3,'data-event-opts',4,'data-ref',5,'value',6,'vueId',7],[],e,s,gg)
_(e6D,eXE)
var bYE=_mz(z,'uni-popup',['bind:__l',142,'bind:change',1,'class',2,'data-event-opts',3,'data-ref',4,'type',5,'vueId',6,'vueSlots',7],[],e,s,gg)
var oZE=_mz(z,'order-confirm-exit',['bind:__l',150,'bind:orderExitClose',1,'bind:orderExitConfirm',2,'class',3,'data-event-opts',4,'vueId',5],[],e,s,gg)
_(bYE,oZE)
_(e6D,bYE)
var x1E=_mz(z,'set-point-offset',['allPoint',156,'bind:__l',1,'bind:saveOffset',2,'class',3,'data-event-opts',4,'data-ref',5,'deductionPoint',6,'deductionText',7,'vueId',8],[],e,s,gg)
_(e6D,x1E)
var o2E=_mz(z,'uni-popup',['bind:__l',165,'bind:change',1,'class',2,'data-event-opts',3,'data-ref',4,'maskClick',5,'type',6,'vueId',7,'vueSlots',8],[],e,s,gg)
_(e6D,o2E)
var f3E=_mz(z,'rich-notes',['bind:__l',174,'bind:closeNotes',1,'class',2,'data-event-opts',3,'data-ref',4,'isShowClose',5,'maxHeight',6,'purchaseNotesUrl',7,'titleIntroduce',8,'vueId',9],[],e,s,gg)
_(e6D,f3E)
_(l3D,e6D)
var c4E=_mz(z,'pup-limit',['bind:__l',184,'class',1,'data-ref',2,'vueId',3],[],e,s,gg)
_(l3D,c4E)
var h5E=_mz(z,'verify-code-popup',['bind:__l',188,'class',1,'data-ref',2,'vueId',3],[],e,s,gg)
_(l3D,h5E)
a4D.wxXCkey=1
a4D.wxXCkey=3
_(r,l3D)
return r
}
e_[x[6]]={f:m6,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx2_XC_1";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx2_XC_1();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages_game/components/choosedrawouttype/choosedrawouttype.wxml'] = [$gwx2_XC_1, './pages_game/components/choosedrawouttype/choosedrawouttype.wxml'];else __wxAppCode__['pages_game/components/choosedrawouttype/choosedrawouttype.wxml'] = $gwx2_XC_1( './pages_game/components/choosedrawouttype/choosedrawouttype.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages_game/components/pricedetailold/pricedetail.wxml'] = [$gwx2_XC_1, './pages_game/components/pricedetailold/pricedetail.wxml'];else __wxAppCode__['pages_game/components/pricedetailold/pricedetail.wxml'] = $gwx2_XC_1( './pages_game/components/pricedetailold/pricedetail.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages_game/components/selectCoupon/selectCoupon.wxml'] = [$gwx2_XC_1, './pages_game/components/selectCoupon/selectCoupon.wxml'];else __wxAppCode__['pages_game/components/selectCoupon/selectCoupon.wxml'] = $gwx2_XC_1( './pages_game/components/selectCoupon/selectCoupon.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages_game/components/setPointOffset/setPointOffset.wxml'] = [$gwx2_XC_1, './pages_game/components/setPointOffset/setPointOffset.wxml'];else __wxAppCode__['pages_game/components/setPointOffset/setPointOffset.wxml'] = $gwx2_XC_1( './pages_game/components/setPointOffset/setPointOffset.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages_game/components/ticketpurchaser/ticketpurchaser.wxml'] = [$gwx2_XC_1, './pages_game/components/ticketpurchaser/ticketpurchaser.wxml'];else __wxAppCode__['pages_game/components/ticketpurchaser/ticketpurchaser.wxml'] = $gwx2_XC_1( './pages_game/components/ticketpurchaser/ticketpurchaser.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages_game/components/ticketpurchaserTp/ticketpurchaserTp.wxml'] = [$gwx2_XC_1, './pages_game/components/ticketpurchaserTp/ticketpurchaserTp.wxml'];else __wxAppCode__['pages_game/components/ticketpurchaserTp/ticketpurchaserTp.wxml'] = $gwx2_XC_1( './pages_game/components/ticketpurchaserTp/ticketpurchaserTp.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages_game/gameevent/eventpay.wxml'] = [$gwx2_XC_1, './pages_game/gameevent/eventpay.wxml'];else __wxAppCode__['pages_game/gameevent/eventpay.wxml'] = $gwx2_XC_1( './pages_game/gameevent/eventpay.wxml' );
	;__wxRoute = "pages_game/components/choosedrawouttype/choosedrawouttype";__wxRouteBegin = true;__wxAppCurrentFile__="pages_game/components/choosedrawouttype/choosedrawouttype.js";define("pages_game/components/choosedrawouttype/choosedrawouttype.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
require("../../common/vendor.js"),(global.webpackJsonp=global.webpackJsonp||[]).push([["pages_game/components/choosedrawouttype/choosedrawouttype"],{"0b09":function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return c})),o.d(t,"a",(function(){}));var n=function(){var e=this,t=(e.$createElement,e._self._c,e.$previewImageAddress("close_black.png")),o=e.__map(e.typeItems,(function(t,o){return{$orig:e.__get_orig(t),m1:t.checked?e.$previewImageAddress("address_default.png"):null,m2:t.checked?null:e.$previewImageAddress("checbox_default.png")}}));e.$mp.data=Object.assign({},{$root:{m0:t,l0:o}})},c=[]},"2a0e":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"cart",props:{typeItems:{type:Array,default:function(){return[]}},selectedDrawoutType:{type:Object}},data:function(){return{currentps:0}},mounted:function(){},methods:{close:function(){this.$emit("closeDrawoutType")},selectItem:function(e){for(var t=0;t<this.typeItems.length;t++)this.typeItems[t].checked=t==e;this.$emit("changeDrawoutType",this.typeItems[e])}}};t.default=n},"3e27":function(e,t,o){"use strict";var n=o("b9c6");o.n(n).a},"4ad8":function(e,t,o){"use strict";o.r(t);var n=o("0b09"),c=o("7188");for(var a in c)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return c[e]}))}(a);o("3e27");var r=o("828b"),s=Object(r.a)(c.default,n.b,n.c,!1,null,"292dc734",null,!1,n.a,void 0);t.default=s.exports},7188:function(e,t,o){"use strict";o.r(t);var n=o("2a0e"),c=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t.default=c.a},b9c6:function(e,t,o){}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["pages_game/components/choosedrawouttype/choosedrawouttype-create-component",{"pages_game/components/choosedrawouttype/choosedrawouttype-create-component":function(e,t,o){o("df3c").createComponent(o("4ad8"))}},[["pages_game/components/choosedrawouttype/choosedrawouttype-create-component"]]]);
},{isPage:false,isComponent:true,currentFile:'pages_game/components/choosedrawouttype/choosedrawouttype.js'});require("pages_game/components/choosedrawouttype/choosedrawouttype.js");;__wxRoute = "pages_game/components/pricedetailold/pricedetail";__wxRouteBegin = true;__wxAppCurrentFile__="pages_game/components/pricedetailold/pricedetail.js";define("pages_game/components/pricedetailold/pricedetail.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
require("../../common/vendor.js"),(global.webpackJsonp=global.webpackJsonp||[]).push([["pages_game/components/pricedetailold/pricedetail"],{"42ef":function(e,t,n){"use strict";n.r(t);var o=n("573f"),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=a.a},"573f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={name:"cart",props:{ticketAar:{type:Array,default:[]},salePriceChangeMsgAar:{type:Array,default:[]},totalTicketNum:{type:Number,default:0},deliveryFee:{type:Number,default:0},isSelectUsePoint:{type:Boolean,default:!1},deductionAmount:{type:Number,default:0},policyName:{type:String,default:""},policyNum:{type:Number,default:0},couponDisAmount:{type:Number,default:0}},data:function(){return{couponTotalAmount:0}},methods:{openPop:function(e){this.couponTotalAmount=e,this.$refs.popup.open()},closePop:function(){this.$emit("closeDetail"),this.$refs.popup.close()}}};t.default=o},"5d94":function(e,t,n){"use strict";var o=n("89be");n.n(o).a},"89be":function(e,t,n){},"8d00":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var o={uniPopup:function(){return n.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(n.bind(null,"5b0a"))}},a=function(){var e=this,t=(e.$createElement,e._self._c,e.$previewImageAddress("close.png")),n=e.__map(e.ticketAar,(function(t,n){return{$orig:e.__get_orig(t),f0:e._f("numFilterUp")(t.originalPrice*t.ticketNum)}})),o=e.__map(e.salePriceChangeMsgAar,(function(t,n){return{$orig:e.__get_orig(t),f1:e._f("numFilterUp")(t.changePrice)}}));e.$mp.data=Object.assign({},{$root:{m0:t,l0:n,l1:o}})},i=[]},e694:function(e,t,n){"use strict";n.r(t);var o=n("8d00"),a=n("42ef");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("5d94");var u=n("828b"),r=Object(u.a)(a.default,o.b,o.c,!1,null,"a5fc6274",null,!1,o.a,void 0);t.default=r.exports}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["pages_game/components/pricedetailold/pricedetail-create-component",{"pages_game/components/pricedetailold/pricedetail-create-component":function(e,t,n){n("df3c").createComponent(n("e694"))}},[["pages_game/components/pricedetailold/pricedetail-create-component"]]]);
},{isPage:false,isComponent:true,currentFile:'pages_game/components/pricedetailold/pricedetail.js'});require("pages_game/components/pricedetailold/pricedetail.js");;__wxRoute = "pages_game/components/selectCoupon/selectCoupon";__wxRouteBegin = true;__wxAppCurrentFile__="pages_game/components/selectCoupon/selectCoupon.js";define("pages_game/components/selectCoupon/selectCoupon.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
require("../../common/vendor.js"),(global.webpackJsonp=global.webpackJsonp||[]).push([["pages_game/components/selectCoupon/selectCoupon"],{"0beb":function(e,t,n){"use strict";n.r(t);var o=n("9145"),u=n.n(o);for(var s in o)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t.default=u.a},2377:function(e,t,n){"use strict";var o=n("9a68");n.n(o).a},"4c69":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));var o={uniPopup:function(){return n.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(n.bind(null,"5b0a"))}},u=function(){var e=this,t=(e.$createElement,e._self._c,e.$previewImageAddress("close_black.png")),n=e.__map(e.value,(function(t,n){return{$orig:e.__get_orig(t),m1:0==t.status?e.discountMoney(t):null,m2:0==t.status?e.discountText(t):null,m3:0==t.status?e.$previewImageAddress("warn_gray2.png"):null,m4:0==t.status&&t.isSelect?e.$previewImageAddress("address_default.png"):null,m5:0!=t.status||t.isSelect?null:e.$previewImageAddress("checbox_default_writebt.png")}})),o=e.$previewImageAddress("warn_gray2.png");e.$mp.data=Object.assign({},{$root:{m0:t,l0:n,m6:o}})},s=[]},9145:function(e,t,n){"use strict";var o=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=o(n("af34")),s=n("6fe6"),c=n("60ca"),a=n("06d0"),i={name:"cart",props:{value:{type:Array,required:!0},pageHeight:{typeof:Number,default:720},evetProId:{typeof:String,default:""}},data:function(){return{statusBg:{0:s.ossUrl+"app/icon/couponbg_nouse.png"},statusDict:{0:"满减券",1:"满折券",2:"代金券"},btnDict:{0:"去使用",1:"已使用",2:"已作废"}}},methods:{openPop:function(){this.$refs.popup.open()},closePop:function(){this.$refs.popup.close()},selectCoup:function(e){console.log("selectCoup",e);var t=(0,u.default)(this.value);t[e].isSelect?t[e].isSelect=!1:(t.forEach((function(e){e.isSelect=!1})),t[e].isSelect=!t[e].isSelect),this.$emit("input",t)},sure:function(){var e=this.value.map((function(e,t){return e.isSelect?t:-1})).filter((function(e){return-1!==e}));e.length>0?(console.log("selectedIndexes",e),console.log("selectedIndexes",this.value[e[0]].id),this.$emit("selectCoup",this.value[e[0]])):this.$emit("selectCoup")},initCoupon:function(){var e=this;(0,c.getMemberCoupon)({pageNum:1,pageSize:20,status:0}).then((function(t){e.itemList=[],t.data.rows&&t.data.rows.length>0&&(e.itemList=[].concat((0,u.default)(e.itemList),(0,u.default)(t.data.rows)),console.log("itemList",e.itemList))})).catch((function(e){console.log(e)}))},discountMoney:function(e){return(0,a.getDiscountMoney)(e)},discountText:function(e){return(0,a.getDiscountText)(e)}}};t.default=i},"9a68":function(e,t,n){},c0e9:function(e,t,n){"use strict";n.r(t);var o=n("4c69"),u=n("0beb");for(var s in u)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return u[e]}))}(s);n("2377");var c=n("828b"),a=Object(c.a)(u.default,o.b,o.c,!1,null,"4f4ba692",null,!1,o.a,void 0);t.default=a.exports}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["pages_game/components/selectCoupon/selectCoupon-create-component",{"pages_game/components/selectCoupon/selectCoupon-create-component":function(e,t,n){n("df3c").createComponent(n("c0e9"))}},[["pages_game/components/selectCoupon/selectCoupon-create-component"]]]);
},{isPage:false,isComponent:true,currentFile:'pages_game/components/selectCoupon/selectCoupon.js'});require("pages_game/components/selectCoupon/selectCoupon.js");;__wxRoute = "pages_game/components/setPointOffset/setPointOffset";__wxRouteBegin = true;__wxAppCurrentFile__="pages_game/components/setPointOffset/setPointOffset.js";define("pages_game/components/setPointOffset/setPointOffset.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
require("../../common/vendor.js"),(global.webpackJsonp=global.webpackJsonp||[]).push([["pages_game/components/setPointOffset/setPointOffset"],{"0cf7":function(e,t,n){"use strict";n.r(t);var o=n("c5e9"),s=n("22fe");for(var c in s)["default"].indexOf(c)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(c);n("5575");var i=n("828b"),u=Object(i.a)(s.default,o.b,o.c,!1,null,"2034b766",null,!1,o.a,void 0);t.default=u.exports},"22fe":function(e,t,n){"use strict";n.r(t);var o=n("3c4f"),s=n.n(o);for(var c in o)["default"].indexOf(c)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(c);t.default=s.a},"3c4f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("8e36");var o={name:"cart",props:{allPoint:{type:Number,default:0},deductionText:{type:String,default:""},deductionPoint:{type:Number,default:0}},data:function(){return{selectUse:!1}},methods:{open:function(){this.$refs.popup.open()},close:function(){this.$refs.popup.close()},handleSelect:function(e){this.selectUse=e,console.log("this.selectUse",this.selectUse)},save:function(){this.$emit("saveOffset",this.selectUse),this.$refs.popup.close()}}};t.default=o},5575:function(e,t,n){"use strict";var o=n("81ee");n.n(o).a},"81ee":function(e,t,n){},c5e9:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o}));var o={uniPopup:function(){return n.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(n.bind(null,"5b0a"))}},s=function(){this.$createElement;var e=(this._self._c,this.$previewImageAddress("close_black.png"));this.$mp.data=Object.assign({},{$root:{m0:e}})},c=[]}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["pages_game/components/setPointOffset/setPointOffset-create-component",{"pages_game/components/setPointOffset/setPointOffset-create-component":function(e,t,n){n("df3c").createComponent(n("0cf7"))}},[["pages_game/components/setPointOffset/setPointOffset-create-component"]]]);
},{isPage:false,isComponent:true,currentFile:'pages_game/components/setPointOffset/setPointOffset.js'});require("pages_game/components/setPointOffset/setPointOffset.js");;__wxRoute = "pages_game/components/ticketpurchaser/ticketpurchaser";__wxRouteBegin = true;__wxAppCurrentFile__="pages_game/components/ticketpurchaser/ticketpurchaser.js";define("pages_game/components/ticketpurchaser/ticketpurchaser.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
require("../../common/vendor.js"),(global.webpackJsonp=global.webpackJsonp||[]).push([["pages_game/components/ticketpurchaser/ticketpurchaser"],{"0f87":function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{groupShow:!0}},props:{realNameType:{type:Number,default:0},listticket:{type:Array,default:function(){return[]}}},watch:{realNameType:{handler:function(e,t){this.changeListener()},deep:!0,immediate:!0},listticket:{handler:function(e,t){this.changeListener()},deep:!0,immediate:!0}},mounted:function(){},methods:{goPurchaserDetail:function(e){console.log("我是子组件"),this.$emit("goPurchaserDetail",e)},changeListener:function(){var e,t=!0,r=n(this.listticket);try{for(r.s();!(e=r.n()).done;)if("无座位"!=e.value.seatSnapshot){t=!1;break}}catch(e){r.e(e)}finally{r.f()}this.groupShow=t&&3!=this.realNameType}}};t.default=o},"565a":function(e,t,r){"use strict";r.r(t);var n=r("7ec4"),a=r("d6f1");for(var o in a)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("5fbf");var i=r("828b"),c=Object(i.a)(a.default,n.b,n.c,!1,null,"92b2fa28",null,!1,n.a,void 0);t.default=c.exports},"5fbf":function(e,t,r){"use strict";var n=r("f8f6");r.n(n).a},"7ec4":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){}));var n=function(){var e=this,t=(e.$createElement,e._self._c,e.groupShow?e.listticket.length:null),r=e.groupShow?null:e.__map(e.listticket,(function(t,r){return{$orig:e.__get_orig(t),f0:3==e.realNameType&&t.registerName?e._f("cardIdToString")(t.idcardType):null,m0:3==e.realNameType&&t.registerName?e.$previewImageAddress("arrowright.png"):null,m1:3!=e.realNameType||t.registerName?null:e.$previewImageAddress("arrowright.png")}}));e.$mp.data=Object.assign({},{$root:{g0:t,l0:r}})},a=[]},d6f1:function(e,t,r){"use strict";r.r(t);var n=r("0f87"),a=r.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},f8f6:function(e,t,r){}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["pages_game/components/ticketpurchaser/ticketpurchaser-create-component",{"pages_game/components/ticketpurchaser/ticketpurchaser-create-component":function(e,t,r){r("df3c").createComponent(r("565a"))}},[["pages_game/components/ticketpurchaser/ticketpurchaser-create-component"]]]);
},{isPage:false,isComponent:true,currentFile:'pages_game/components/ticketpurchaser/ticketpurchaser.js'});require("pages_game/components/ticketpurchaser/ticketpurchaser.js");;__wxRoute = "pages_game/components/ticketpurchaserTp/ticketpurchaserTp";__wxRouteBegin = true;__wxAppCurrentFile__="pages_game/components/ticketpurchaserTp/ticketpurchaserTp.js";define("pages_game/components/ticketpurchaserTp/ticketpurchaserTp.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
require("../../common/vendor.js"),(global.webpackJsonp=global.webpackJsonp||[]).push([["pages_game/components/ticketpurchaserTp/ticketpurchaserTp"],{1739:function(e,t,r){},"1f3e":function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{groupShow:!0}},props:{realNameType:{type:Number,default:0},listticket:{type:Array,default:function(){return[]}}},watch:{realNameType:{handler:function(e,t){this.changeListener()},deep:!0,immediate:!0},listticket:{handler:function(e,t){this.changeListener()},deep:!0,immediate:!0}},mounted:function(){},methods:{goPurchaserDetail:function(e,t){console.log("我是子组件"),this.$emit("goPurchaserDetailTp",e,t)},changeListener:function(){var e,t=!0,r=n(this.listticket);try{for(r.s();!(e=r.n()).done;)if("无座位"!=e.value.seatSnapshot){t=!1;break}}catch(e){r.e(e)}finally{r.f()}this.groupShow=t&&3!=this.realNameType}}};t.default=o},6332:function(e,t,r){"use strict";r.r(t);var n=r("1f3e"),a=r.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"7f71":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){}));var n=function(){var e=this,t=(e.$createElement,e._self._c,e.__map(e.listticket,(function(t,r){return{$orig:e.__get_orig(t),l0:e.groupShow?null:e.__map(t.child,(function(r,n){return{$orig:e.__get_orig(r),f0:3==e.realNameType&&r.registerName?e._f("cardIdToString")(r.idcardType):null,m0:3==e.realNameType&&r.registerName?e.$previewImageAddress("arrowright.png"):null,m1:3!=e.realNameType||r.registerName?null:e.$previewImageAddress("arrowright.png"),g0:t.child.length}}))}})));e.$mp.data=Object.assign({},{$root:{l1:t}})},a=[]},d2d8:function(e,t,r){"use strict";r.r(t);var n=r("7f71"),a=r("6332");for(var o in a)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("e414");var i=r("828b"),c=Object(i.a)(a.default,n.b,n.c,!1,null,"3cce2ea3",null,!1,n.a,void 0);t.default=c.exports},e414:function(e,t,r){"use strict";var n=r("1739");r.n(n).a}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["pages_game/components/ticketpurchaserTp/ticketpurchaserTp-create-component",{"pages_game/components/ticketpurchaserTp/ticketpurchaserTp-create-component":function(e,t,r){r("df3c").createComponent(r("d2d8"))}},[["pages_game/components/ticketpurchaserTp/ticketpurchaserTp-create-component"]]]);
},{isPage:false,isComponent:true,currentFile:'pages_game/components/ticketpurchaserTp/ticketpurchaserTp.js'});require("pages_game/components/ticketpurchaserTp/ticketpurchaserTp.js");;__wxRoute = "pages_game/gameevent/eventpay";__wxRouteBegin = true;__wxAppCurrentFile__="pages_game/gameevent/eventpay.js";define("pages_game/gameevent/eventpay.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
require("../common/vendor.js"),(global.webpackJsonp=global.webpackJsonp||[]).push([["pages_game/gameevent/eventpay"],{"0f50":function(e,t,i){"use strict";var o=i("2d66");i.n(o).a},"2d66":function(e,t,i){},"2e54":function(e,t,i){"use strict";(function(e){var o=i("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(i("7eb4")),s=o(i("af34")),r=o(i("ee10")),a=o(i("7ca3")),c=i("e2af"),l=i("4380"),u=i("028b"),h=i("5a5f"),d=i("d9e3"),p=i("8e36"),m=i("00a9"),f=i("b5c2"),g=i("54f8"),y=i("60ca"),P=i("6fe6"),T=i("52d4"),k=i("06d0"),v=i("f0e6");function b(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}i("9341");var A={components:{Ticketpurchaser:function(){i.e("pages_game/components/ticketpurchaser/ticketpurchaser").then(function(){return resolve(i("565a"))}.bind(null,i)).catch(i.oe)},TicketpurchaserTp:function(){i.e("pages_game/components/ticketpurchaserTp/ticketpurchaserTp").then(function(){return resolve(i("d2d8"))}.bind(null,i)).catch(i.oe)},Choosepurchaser:function(){i.e("pages_game/components/choosepurchaser/choosepurchaser").then(function(){return resolve(i("7e7d"))}.bind(null,i)).catch(i.oe)},Pricedetail:function(){i.e("pages_game/components/pricedetailold/pricedetail").then(function(){return resolve(i("e694"))}.bind(null,i)).catch(i.oe)},ChooseDrawoutType:function(){i.e("pages_game/components/choosedrawouttype/choosedrawouttype").then(function(){return resolve(i("4ad8"))}.bind(null,i)).catch(i.oe)},OrderNoPay:function(){i.e("components/pupwarn/ordernopay").then(function(){return resolve(i("40bd"))}.bind(null,i)).catch(i.oe)},OrderConfirmExit:function(){i.e("components/pupwarn/orderconfirmexit").then(function(){return resolve(i("9017"))}.bind(null,i)).catch(i.oe)},SetPointOffset:function(){i.e("pages_game/components/setPointOffset/setPointOffset").then(function(){return resolve(i("0cf7"))}.bind(null,i)).catch(i.oe)},RichNotes:function(){i.e("pages_game/components/richNotes/richNotes").then(function(){return resolve(i("e1db"))}.bind(null,i)).catch(i.oe)},SelectCoupon:function(){i.e("pages_game/components/selectCoupon/selectCoupon").then(function(){return resolve(i("c0e9"))}.bind(null,i)).catch(i.oe)}},data:function(){var e;return{itemdata:{},ticketPosition:0,ticketPositionTpParent:0,ticketPositionTpChild:0,listticketBind:[],listticketBindTp:[],purchaserAar:[],purchaserPos:-1,currentps:-1,selectDrawtype:{},selectDrawtypeRadio:!1,sendList:[],paymentType:0,supplierId:0,zeroPay:{id:4,checked:!0,name:"0元购",icon:"payway-zero.png"},addressAar:[],ticketshop:[],zzshdizhi:(e={consigneeName:"",phone:"",address:"",deliveryFee:15},(0,a.default)(e,"address",""),(0,a.default)(e,"consigneeAddrId",""),(0,a.default)(e,"consigneeAddrProvince",""),(0,a.default)(e,"consigneeAddrCity",""),(0,a.default)(e,"consigneeAddrCounty",""),e),purchase:{memberInfoName:"",memberInfoPhone:"",memberInfoCompleteNo:"",ticketOutletId:""},totalAmount:0,totalAmountVisible:0,totalAmountOutDis:0,couponAmount:0,couponAmountPlugin:0,couponAmountVisible:0,lockkey:"",freePurchase:!1,orderId:"",formData:[],salePriceChangeMsgAar:[],totalTicketNum:0,realName:"",realNo:"",shaddressPos:0,memberAddressId:"",deliveryFee:0,deliveryTemplateId:"",deliveryTemplateTitle:"",deliveryScope:"",noClick:!0,showId:"",buyProType:!1,showPopup:!1,showTime:"",showName:"",isToMpPay:!1,imageUrl:"",name:"",venueAddress:"",realNameType:"",printTicketTypesMap:[],eventId:"",performanceSource:"",idCardTypesSaleable:null,idcardTypesLimitMsg:null,hasEntry:0,signUpForm:[],entryNote:"",isWriteForm:!1,isSelectUsePoint:!1,totalPoints:0,exchengeRatio:0,minAvailablePoint:0,maxPointDeductionPersent:0,pointSwitchOn:!1,deductionText:"",deductionMoneyText:"",deductionTextSelect:"",deductionPoint:0,deductionAmount:0,pointExchangeRmbRatePoint:0,pointExchangeRmbRateRmb:0,platform:"WX",plugInType:null,rightPayText:"立即支付",rightPayCountTime:-1,rightPayTimer:null,objWithKey:{child:[],name:"",price:0},confirmGoNextContent:"",confirmGoNextBtn:"确认",confirmGoNextRandom:0,confirmGoNextTimer:null,douyinProductId:null,policyName:"",buyProtocolOn:!1,buyProtocol:"",buyProtocolContext:"",popupMaxHeight:750,isSelectedRead:!1,couponList:[],coupStr:"",couponDisAmount:0,coupDiscountObj:null,discountKey:""}},onLoad:function(t){console.log("eventPay",t);var i={};if(this.listticketBind=[],t.seatData){if(console.log("项目为选座"),(i=JSON.parse(t.seatData)).showSeats.length){this.totalTicketNum=i.showSeats.length;for(var o=0;o<i.showSeats.length;o++)this.listticketBind.push({fareLevel:i.showSeats[o].fareLevel,price:i.showSeats[o].salePrice,originalPrice:i.showSeats[o].price,registerName:"",registerNo:"",idcardType:"",seatId:i.showSeats[o].id,realnameRelationId:"",verboseName:i.showSeats[o].fareLevelVerboseName,seatSnapshot:i.showSeats[o].snapshot,suitCode:i.showSeats[o].suitCode,ticketNum:1})}}else console.log("非选座+老版本选座跳转逻辑"),i=t,this.listticketBind=JSON.parse(t.cheapesData),this.totalTicketNum=parseFloat(t.totalTicketNum)||0,this.buyProType=t.buyProType;console.log("options",i),console.log("this.listticketBind",this.listticketBind),i&&(this.imageUrl=i.imageUrl,this.name=i.name,this.venueAddress=i.venueAddress,this.realNameType=i.realNameType,this.eventId=i.id,i.performanceSource&&"undefined"!=i.performanceSource&&"null"!=i.performanceSource&&(this.performanceSource=JSON.parse(i.performanceSource)),this.lockkey=i.key,this.policyName=i.policyName,this.showId=i.showId,this.showTime=i.showTime,this.showName=i.showName,this.totalAmount=i.totalAmount,this.totalAmountVisible=i.totalAmount,this.totalAmountOutDis=i.totalAmount,this.couponAmount=parseFloat(i.deltaPrice).toFixed(2),this.couponAmountVisible=this.couponAmount,this.purchase.ticketOutletId=i.ticketOutletId,this.plugInType=i.plugInType,this.douyinProductId=i.douyinProductId,this.buyProtocolOn=(0,m.toBoolean)(i.buyProtocolOn),this.buyProtocol=i.buyProtocol,this.buyProtocolOn&&this.buyProtocol&&this.loadHtmlText(1,this.buyProtocol)),this.queryShowDetailInfo(),this.initAuthInfo(),this.sortPurchaserList(),this.purchase.memberInfoPhone=e.getStorageSync("authphone"),1==this.buyProType&&this.setTimer();var n=e.getSystemInfoSync();n&&(console.log("uni.getSystemInfoSync()",n.platform),console.log("uni.getSystemInfoSync()",n.windowHeight),this.popupMaxHeight=.75*n.screenHeight/n.windowWidth*750),e.$on("refreshData",this.initBuyerList),e.$on("refreshAddrData",this.initAddressList)},onShow:function(){},onUnload:function(){this.rightPayTimer&&clearInterval(this.rightPayTimer),this.confirmGoNextTimer&&clearInterval(this.confirmGoNextTimer),e.$off("refreshData",this.initBuyerList),e.$off("refreshAddrData",this.initAddressList)},methods:{sortPurchaserList:function(){if(this.listticketBind){this.mergeData();var e=this.listticketBind.reduce((function(e,t){if(t.suitCode){e[t.suitCode]||(e[t.suitCode]=[]);var i=JSON.parse(JSON.stringify(t));return e[t.suitCode].push(i),e}}),{});if(console.log("grouped",e),e)for(var t=Object.values(e),i=0;i<t.length;i++){var o=JSON.parse(JSON.stringify(this.objWithKey));this.listticketBindTp.push(o),this.listticketBindTp[i].child=t[i],this.listticketBindTp[i].name=this.policyName;for(var n=0;n<t[i].length;n++)this.listticketBindTp[i].price?this.listticketBindTp[i].price=(0,p.formatCalculateNum)(this.listticketBindTp[i].price,t[i][n].price,"+",2):this.listticketBindTp[i].price=t[i][n].price}console.log("this.listticketBindTp",this.listticketBindTp)}},mergeData:function(e){this.formData=[],this.formData=this.listticketBind.reduce((function(e,t){var i=e.find((function(e){return e.originalPrice===t.originalPrice}));return i?i.ticketNum+=t.ticketNum:e.push(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){(0,a.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t)),e}),[]),console.log("this.formData22222===",this.formData)},queryShowDetailInfo:function(){var t=this;return(0,r.default)(n.default.mark((function i(){return n.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,l.getOssJsonFile)({url:(0,v.getShowOssJsonUrl)(t.showId)}).then((function(i){e.hideLoading(),null!=i&&i.data?t.initShowInfo(i.data):t.queryShowDetail()})).catch((function(i){e.hideLoading(),t.queryShowDetail()}));case 3:i.next=8;break;case 5:i.prev=5,i.t0=i.catch(0),console.log("error",i.t0);case 8:return i.prev=8,i.finish(8);case 10:case"end":return i.stop()}}),i,null,[[0,5,8,10]])})))()},queryShowDetail:function(){var e=this;(0,l.eventShowDetail)({id:this.showId}).then((function(t){null!=t&&t.data&&e.initShowInfo(t.data)})).catch((function(e){console.log("console",e)}))},initShowInfo:function(e){e.performanceId&&(this.eventId=e.performanceId),this.sendList=[];var t=JSON.parse(e.printTicketTypesMap);console.log("printTicketTypesMap",t);for(var i=0;i<t.length;i++){var o,n,s,r=void 0,a=void 0,c=void 0,l=void 0;o=t[i].printTicketTypeValue,n=t[i].printTicketTypeCode,r=t[i].printTicketTypeRemark||"",0==t[i].printTicketTypeCode?(r=t[i].printTicketTypeRemark||"手机持票，快捷入场",a="psdz.png",c=2,l=1):2==t[i].printTicketTypeCode?(r=t[i].printTicketTypeRemark||"选择你最近的线下取票机取票",a="pszq.png",c=1,l=4):1==t[i].printTicketTypeCode?(r=t[i].printTicketTypeRemark||"快递送达，费用自付",a="pszz.png",c=3,l=2):3==t[i].printTicketTypeCode?(r=t[i].printTicketTypeRemark||"无需门票，直接身份证入场",a="pssfzp.png",c=2,l=3):6==t[i].printTicketTypeCode?(r=t[i].printTicketTypeRemark||"需持实体年卡入场",a="pszz.png",c=3,l=5):8==t[i].printTicketTypeCode&&(r=t[i].printTicketTypeRemark||"出示身份证入场，含快递费，费用自付",a="pssfzp.png",c=3,l=6),s=t[i].printTicketTypeCode,this.sendList.push({printTicketTypeCode:s,checked:!1,desc:r,icon:a,name:o,drawOutType:n,pickUpType:c,sortIndex:l}),this.sendList.sort((function(e,t){return e.sortIndex-t.sortIndex}))}this.sendList.length>0&&(this.selectDrawtype=this.sendList[0],3==this.selectDrawtype.pickUpType?this.initAddressList(!1):2==this.selectDrawtype.printTicketTypeCode&&this.getTicketPlace(!1)),console.log("this.sendList",this.sendList),this.idCardTypesSaleable=e.idCardTypesSaleable,this.idcardTypesLimitMsg=e.idCardTypesSaleableErrorMessage,this.entryNote=e.entryNote,this.hasEntry=e.hasEntry;var u=e.entryList;if(u&&u.length>0){this.signUpForm=[];for(var h=0;h<this.totalTicketNum;h++){var d=[];for(i=0;i<u.length;i++)d.push({activityInfoEntryId:u[i].id,columnName:u[i].activitySettingName,columnType:u[i].activitySettingType,columnValue:0==h?u[i].columnValue:"",columnFlag:u[i].columnFlag,isRequired:u[i].isRequired,typeOptions:u[i].typeOptions,timeRules:u[i].timeRules,selectValue:-1,remark:u[i].remark,imgExample:u[i].imgExample});this.signUpForm.push({pageNum:h+1,memberRequestList:d})}if(this.signUpForm.length>0&&3!=this.realNameType)for(var p=0;p<this.signUpForm[0].memberRequestList.length;p++)"name"==this.signUpForm[0].memberRequestList[p].columnFlag?this.signUpForm[0].memberRequestList[p].columnValue=this.purchase.memberInfoName:"phone"==this.signUpForm[0].memberRequestList[p].columnFlag?this.signUpForm[0].memberRequestList[p].columnValue=this.purchase.memberInfoPhone:"certNo"==this.signUpForm[0].memberRequestList[p].columnFlag&&(this.signUpForm[0].memberRequestList[p].columnValue=this.purchase.memberInfoCompleteNo)}this.pointSwitchOn=e.pointSwitchOn,this.minAvailablePoint=e.minAvailablePoint,this.maxPointDeductionPersent=e.maxPointDeductionPersent,this.pointSwitchOn&&(this.getSologanDetail(),this.getMemberShip())},initAuthInfo:function(){var t=this;(0,c.getAccountRegistration)({}).then((function(i){if(console.log(i),i.data){if(e.setStorageSync("isAuth",i.data.isRealAuth),e.setStorageSync("authName",i.data.name),t.realNameType,t.realName=i.data.name,t.realNo=i.data.certificatesNo,t.purchase.memberInfoName=i.data.name,t.purchase.memberInfoCompleteNo=i.data.completeCertificatesNo,t.signUpForm.length>0&&3!=t.realNameType)for(var o=0;o<t.signUpForm[0].memberRequestList.length;o++)"name"==t.signUpForm[0].memberRequestList[o].columnFlag?t.signUpForm[0].memberRequestList[o].columnValue=t.purchase.memberInfoName:"phone"==t.signUpForm[0].memberRequestList[o].columnFlag?t.signUpForm[0].memberRequestList[o].columnValue=t.purchase.memberInfoPhone:"certNo"==t.signUpForm[0].memberRequestList[o].columnFlag&&(t.signUpForm[0].memberRequestList[o].columnValue=t.purchase.memberInfoCompleteNo)}else e.setStorageSync("isAuth",!1)})).catch((function(e){console.log(e)}))},initBuyerList:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i&&e.showLoading(),(0,c.buyerList)({}).then((function(o){t.purchaserAar=[];for(var n=!0,s=0;s<o.data.length;s++)if(n&&o.data[s].certificatesNo==t.listticketBind[0].registerOutProNo&&(n=!1,t.listticketBind[0].realnameRelationId=o.data[s].id,t.listticketBind[0].registerNo=o.data[s].completeCertificatesNo,t.listticketBind[0].idcardType=o.data[s].certificatesType),t.idCardTypesSaleable&&t.idCardTypesSaleable.length>0){var r=!1;t.idCardTypesSaleable.map((function(e){e.idcardType==o.data[s].certificatesType&&(r=!0)})),t.creterPurchaserData(o.data[s],r)}else t.creterPurchaserData(o.data[s],!0);i&&(t.showPopup=!0,t.$refs.popupPurchaser.openPop(),e.hideLoading())})).catch((function(t){e.hideLoading()}))},creterPurchaserData:function(e,t){this.purchaserAar.push({checked:!1,name:e.name,certificatesType:e.certificatesType,certificatesNo:e.certificatesNo,completeCertificatesNo:e.completeCertificatesNo,completePhone:e.completePhone,id:e.id,isSelect:!1,position:0,ableSelect:t})},addPurchaser:function(){e.navigateTo({url:"/pages_mine/mine/purchaseradd?type=2"})},initAddressList:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i&&e.showLoading(),(0,h.addressList)({}).then((function(o){var n;t.addressAar=o.data,3==(null===(n=t.selectDrawtype)||void 0===n?void 0:n.pickUpType)?t.zzshdizhi.consigneeName||(t.shaddressPos=t.findDefaultAddress(t.addressAar),-1!==t.shaddressPos&&t.setSHaddressInfo(t.shaddressPos)):t.resetDeliveryInfo(),i&&e.hideLoading()})).catch((function(t){e.hideLoading()}))},findDefaultAddress:function(e){if((null==e?void 0:e.length)>0){for(var t=0;t<e.length;t++)if(e[t].isDefault)return t;return 0}return-1},resetDeliveryInfo:function(){this.memberAddressId="",this.deliveryFee=0,this.deliveryTemplateId="",this.deliveryTemplateTitle="",this.deliveryScope="",this.calculatePayNum()},selectSHAddress:function(){var e=this;return(0,r.default)(n.default.mark((function t(){var i,o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e.addressAar&&0!==(null===(i=e.addressAar)||void 0===i?void 0:i.length)){t.next=3;break}return t.next=3,e.initAddressList(!0);case 3:null!==(o=e.$refs.popupshaddress)&&void 0!==o&&o.open&&e.$refs.popupshaddress.open("bottom");case 4:case"end":return t.stop()}}),t)})))()},changeSHAddress:function(e){this.shaddressPos=e,this.setSHaddressInfo(e)},closeSHAddress:function(){this.$refs.popupshaddress.close()},sureAddress:function(e){this.shaddressPos=e,this.setSHaddressInfo(e),this.$refs.popupshaddress.close()},setSHaddressInfo:function(e){this.addressAar&&this.addressAar.length>0&&(this.zzshdizhi.consigneeName=this.addressAar[e].consigneeName,this.zzshdizhi.phone=this.addressAar[e].phone,this.zzshdizhi.address=this.addressAar[e].address,this.zzshdizhi.consigneeAddrId=this.addressAar[e].id,this.zzshdizhi.consigneeAddrProvince=this.addressAar[e].province,this.zzshdizhi.consigneeAddrCity=this.addressAar[e].city,this.zzshdizhi.consigneeAddrCounty=this.addressAar[e].district,this.memberAddressId=this.addressAar[e].id,this.freightFun())},addAddress:function(){e.navigateTo({url:"/pages_game/gameevent/addaddress"})},editAddress:function(t){console.log("editAddress"+t),e.navigateTo({url:"/pages_game/gameevent/addaddress?itemdata=".concat(JSON.stringify(this.addressAar[t]))})},selectDefaultType:function(){this.selectDrawtype.checked=!0,this.selectDrawtypeRadio=!0},payRadioChange:function(e){console.log(e),this.paymentType=e.detail.value},getPaymentType:function(e){e&&(this.paymentType=e.paymentType,this.supplierId=e.supplierId)},openOrderDetail:function(){var e=(parseFloat(this.couponAmount)||0)+(parseFloat(this.couponAmountPlugin)||0);this.showPopup=!0,this.$refs.popupOrdDetail.openPop(e)},goPurchaserDetail:function(e){if(this.ticketPosition=e,0==this.purchaserAar.length)this.initBuyerList(!0);else{var t=this.listticketBind[e].realnameRelationId;console.log("添加持票人信息：",t+"------"+e);for(var i=0;i<this.purchaserAar.length;i++)t==this.purchaserAar[i].id?this.purchaserAar[i].isSelect=!0:this.purchaserAar[i].isSelect=!1;this.showPopup=!0,this.$refs.popupPurchaser.openPop()}},goPurchaserDetailTp:function(e,t){this.ticketPositionTpParent=e,this.ticketPositionTpChild=t;var i=this.listticketBindTp[e].child[t];if(i)for(var o=0;o<this.listticketBind.length;o++)i.seatId==this.listticketBind[o].seatId&&(this.ticketPosition=o,console.log("this.ticketPosition",this.ticketPosition));if(console.log("this.ticketPosition",this.ticketPosition),console.log("this.listticketBindTp",this.listticketBindTp),console.log("this.listticketBind",this.listticketBind),0==this.purchaserAar.length)this.initBuyerList(!0);else{var n=this.listticketBindTp[e].child[t].realnameRelationId;console.log("goPurchaserDetail",n+"------"+t);for(var s=0;s<this.purchaserAar.length;s++)n==this.purchaserAar[s].id?this.purchaserAar[s].isSelect=!0:this.purchaserAar[s].isSelect=!1;this.showPopup=!0,this.$refs.popupPurchaser.openPop()}},changePupop:function(e){this.showPopup=e.show},hidePupop:function(){this.showPopup=!1},orderExitClose:function(){this.$refs.orderExitWarn.close()},orderExitConfirm:function(){this.cancelPayFun(),this.orderExitClose()},showChangeDrawoutPop:function(){this.$refs.drawoutTypePop.open("bottom")},hideChangeDrawoutPop:function(){this.$refs.drawoutTypePop.close()},changeDrawoutType:function(e){this.selectDrawtype=e,this.selectDrawtype.checked=!0,this.selectDrawtypeRadio=!0;for(var t=0;t<this.sendList.length;t++)this.sendList[t].printTicketTypeCode==e.printTicketTypeCode?this.sendList[t].checked=!0:this.sendList[t].checked=!1;var i,o;console.log("pickUpType",this.selectDrawtype.pickUpType),3==this.selectDrawtype.pickUpType?(null===(i=this.addressAar)||void 0===i?void 0:i.length)>0?(this.shaddressPos=this.findDefaultAddress(this.addressAar),-1!==this.shaddressPos&&this.setSHaddressInfo(this.shaddressPos)):this.initAddressList(!1):this.resetDeliveryInfo(),2==this.selectDrawtype.printTicketTypeCode&&0==(null===(o=this.ticketshop)||void 0===o?void 0:o.length)&&this.getTicketPlace(!1),this.$refs.drawoutTypePop.close()},surePurchaser:function(e){console.log("res",e),this.purchaserAar=[],this.purchaserAar=e;for(var t=0;t<this.listticketBind.length;t++)for(var i=0;i<this.purchaserAar.length;i++)if(this.purchaserAar[i].isSelect&&this.purchaserAar[i].id==this.listticketBind[t].realnameRelationId){this.listticketBind[t].registerName="",this.listticketBind[t].registerNo="",this.listticketBind[t].idcardType="",this.listticketBind[t].registerOutProNo="",this.listticketBind[t].realnameRelationId="";break}if(this.listticketBindTp&&this.listticketBindTp.length>0)for(t=0;t<this.listticketBindTp.length;t++)for(var o=0;o<this.listticketBindTp[t].child.length;o++)for(i=0;i<this.purchaserAar.length;i++)if(this.purchaserAar[i].isSelect&&this.purchaserAar[i].id==this.listticketBindTp[t].child[o].realnameRelationId){this.listticketBindTp[t].child[o].registerName="",this.listticketBindTp[t].child[o].registerNo="",this.listticketBindTp[t].child[o].idcardType="",this.listticketBindTp[t].child[o].registerOutProNo="",this.listticketBindTp[t].child[o].realnameRelationId="";break}for(t=0;t<this.purchaserAar.length;t++)if(this.purchaserAar[t].isSelect&&(this.listticketBind[this.ticketPosition].registerName=this.purchaserAar[t].name,this.listticketBind[this.ticketPosition].idcardType=this.purchaserAar[t].certificatesType,this.listticketBind[this.ticketPosition].registerNo=this.purchaserAar[t].completeCertificatesNo,this.listticketBind[this.ticketPosition].registerOutProNo=this.purchaserAar[t].certificatesNo,this.listticketBind[this.ticketPosition].realnameRelationId=this.purchaserAar[t].id,this.listticketBindTp&&this.listticketBindTp.length>0&&(this.listticketBindTp[this.ticketPositionTpParent].child[this.ticketPositionTpChild].registerName=this.purchaserAar[t].name,this.listticketBindTp[this.ticketPositionTpParent].child[this.ticketPositionTpChild].idcardType=this.purchaserAar[t].certificatesType,this.listticketBindTp[this.ticketPositionTpParent].child[this.ticketPositionTpChild].registerNo=this.purchaserAar[t].completeCertificatesNo,this.listticketBindTp[this.ticketPositionTpParent].child[this.ticketPositionTpChild].registerOutProNo=this.purchaserAar[t].certificatesNo,this.listticketBindTp[this.ticketPositionTpParent].child[this.ticketPositionTpChild].realnameRelationId=this.purchaserAar[t].id),console.log("this.ticketPositionTpParent",this.ticketPositionTpParent),console.log("this.ticketPositionTpChild",this.ticketPositionTpChild),console.log("this.listticketBindTp",this.listticketBindTp),this.signUpForm&&this.signUpForm.length>0&&this.signUpForm.length>this.ticketPosition)){for(i=0;i<this.signUpForm[this.ticketPosition].memberRequestList.length;i++)"name"==this.signUpForm[this.ticketPosition].memberRequestList[i].columnFlag?this.purchaserAar[t].name&&(this.signUpForm[this.ticketPosition].memberRequestList[i].columnValue=this.purchaserAar[t].name):"phone"==this.signUpForm[this.ticketPosition].memberRequestList[i].columnFlag?(console.log("this.purchaserAar[i].completePhone",this.purchaserAar[t].completePhone),this.purchaserAar[t].completePhone&&(this.signUpForm[this.ticketPosition].memberRequestList[i].columnValue=this.purchaserAar[t].completePhone)):"certNo"==this.signUpForm[this.ticketPosition].memberRequestList[i].columnFlag&&this.purchaserAar[t].completeCertificatesNo&&(this.signUpForm[this.ticketPosition].memberRequestList[i].columnValue=this.purchaserAar[t].completeCertificatesNo);console.log("======",this.signUpForm[this.ticketPosition].memberRequestList)}this.hidePupop(),this.plugInType&&1==this.plugInType&&this.queryLockSeatPlugin(),console.log("this.listticketBind",this.listticketBind)},queryLockSeatPlugin:function(){var e=this;return(0,r.default)(n.default.mark((function t(){var i;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.lockSeatPlugin)({showId:e.showId,key:e.lockkey,seatList:e.listticketBind});case 3:i=t.sent,console.log(i),i&&i.data&&(e.lockkey=i.data.key,e.freePurchase=i.data.freePurchase,e.freePurchase&&(e.payList=[],e.payList.push(e.zeroPay)),i.data.showSeats&&(e.couponAmountPlugin=0,e.salePriceChangeMsgAar=[],i.data.showSeats.map((function(t){e.listticketBind.map((function(i){if(i.seatId==t.id&&i.realnameRelationId&&(i.price=t.salePrice,console.log("rspSeat.oldSalePrice",t.oldSalePrice),console.log("rspSeat.salePrice",t.salePrice),t.oldSalePrice)){var o=(0,p.formatCalculateNum)(t.oldSalePrice,t.salePrice,"-",2);e.couponAmountPlugin=e.couponAmountPlugin+o,console.log("this.couponAmountPlugin",e.couponAmountPlugin),e.salePriceChangeMsgAar.push({changeMsg:t.salePriceChangeMsg,ticketNum:1,changePrice:o})}}))})),e.calculatePayNum())),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("lockSeatPluginerror"+t.t0);case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[0,8,11,13]])})))()},getTicketPlace:function(t){var i=this;t&&e.showLoading(),(0,f.getTicketCodePlaceList)(this.showId).then((function(o){i.ticketshop=o.data,t&&e.hideLoading()})).catch((function(t){e.hideLoading()}))},showQpd:function(){var e=this;return(0,r.default)(n.default.mark((function t(){var i,o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e.ticketshop&&0!==(null===(i=e.ticketshop)||void 0===i?void 0:i.length)){t.next=3;break}return t.next=3,e.getTicketPlace(!0);case 3:null!==(o=e.$refs.popupqpaddress)&&void 0!==o&&o.open&&e.$refs.popupqpaddress.open("bottom");case 4:case"end":return t.stop()}}),t)})))()},closeQPAddress:function(){this.$refs.popupqpaddress.close()},goPay:function(){var t=this;return(0,r.default)(n.default.mark((function i(){var o,s;return n.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(1!=t.buyProType||0!=t.rightPayCountTime){i.next=3;break}return e.showToast({title:"未及时支付，请返回再次购买",icon:"none"}),i.abrupt("return");case 3:if(console.log("this.listticketBind",t.listticketBind),3!=t.realNameType){i.next=13;break}o=0;case 6:if(!(o<t.listticketBind.length)){i.next=13;break}if(t.listticketBind[o].registerName){i.next=10;break}return e.showToast({title:"请选择实名持票人",icon:"none"}),i.abrupt("return");case 10:o++,i.next=6;break;case 13:if("{}"!=JSON.stringify(t.selectDrawtype)&&t.selectDrawtype.checked){i.next=16;break}return e.showToast({title:"请选择出票方式",icon:"none"}),i.abrupt("return");case 16:if(!t.orderId){i.next=19;break}return"TT"==t.platform?t.ttCreateorder():t.payOrder(),i.abrupt("return");case 19:if(!(1==t.hasEntry&&t.signUpForm&&t.signUpForm.length>0)){i.next=33;break}o=0;case 21:if(!(o<t.signUpForm.length)){i.next=33;break}s=0;case 23:if(!(s<t.signUpForm[o].memberRequestList.length)){i.next=30;break}if(1!=t.signUpForm[o].memberRequestList[s].isRequired||t.signUpForm[o].memberRequestList[s].columnValue){i.next=27;break}return e.showToast({title:"请填写报名信息",icon:"none"}),i.abrupt("return");case 27:s++,i.next=23;break;case 30:o++,i.next=21;break;case 33:t.buyProtocolOn?t.isSelectedRead?t.invokeConfirmNext():e.showToast({title:"请阅读并同意购买协议",icon:"none"}):t.showConfirmDialog();case 34:case"end":return i.stop()}}),i)})))()},showConfirmDialog:function(){var e=this;if(this.confirmGoNextContent="",3==this.realNameType)for(var t=0;t<this.listticketBind.length;t++)this.confirmGoNextContent=this.confirmGoNextContent+this.listticketBind[t].registerName+"　"+this.listticketBind[t].registerNo+"\n";else this.confirmGoNextContent=this.purchase.memberInfoName+"　"+this.purchase.memberInfoCompleteNo;this.confirmGoNextRandom=Math.floor(3*Math.random()+3),this.confirmGoNextBtn="确认("+this.confirmGoNextRandom+"s)",this.$refs.confirmGoNextPop.open("center"),this.confirmGoNextTimer=setInterval((function(){e.confirmGoNextRandom=Math.max(0,e.confirmGoNextRandom-1),console.log("倒计时"+e.confirmGoNextRandom),e.confirmGoNextRandom<=0?(e.confirmGoNextBtn="确认",console.log("倒计时结束"),clearInterval(e.confirmGoNextTimer)):e.confirmGoNextBtn="确认("+e.confirmGoNextRandom+"s)"}),1e3)},hideConfirmNextPop:function(){this.$refs.confirmGoNextPop.close(),clearInterval(this.confirmGoNextTimer)},invokeConfirmNext:function(){var t=this;return(0,r.default)(n.default.mark((function i(){var o;return n.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(0!=t.paymentType){i.next=3;break}return e.showToast({title:"请选择支付方式",icon:"none"}),i.abrupt("return");case 3:if(!(t.confirmGoNextRandom>0)){i.next=5;break}return i.abrupt("return");case 5:return i.next=7,(0,u.getUnclosedOrder)({});case 7:(o=i.sent).data.length>0?t.$refs.noPayWarn.openPup(o.data[0].businessType,o.data[0].id):t.createOrderFun(),console.log("=====",o),t.hideConfirmNextPop();case 11:case"end":return i.stop()}}),i)})))()},createOrderFun:function(){var t=this;if(this.orderId)"TT"==this.platform?this.ttCreateorder():this.payOrder();else if(this.lockkey){if((1==this.selectDrawtype.drawOutType||6==this.selectDrawtype.drawOutType||8==this.selectDrawtype.drawOutType)&&!this.deliveryTemplateId)return void e.showToast({title:"暂无对应快递模版信息",icon:"none"});var i=[];if(this.isSelectUsePoint){var o={discountType:"0",pointExchangeRmbRatePoint:this.pointExchangeRmbRatePoint,pointExchangeRmbRateRmb:100*this.pointExchangeRmbRateRmb,usePoint:Number(this.deductionPoint),discountAmount:Number((100*this.deductionAmount).toFixed(2))};i.push(o)}this.coupStr&&i.push(this.coupDiscountObj);var n=Date.parse(new Date);(0,u.createOrder)({singleLimit:"https://ctmstest.dasheng.top/"!=P.baseURL&&3==this.realNameType,bookedTime:(0,d.timestampToTime)(n),bookedFailTime:(0,d.timestampToTime)(n+9e5),thirdOrderNo:this.eventId,showId:this.showId,orderSource:1,drawOutType:this.selectDrawtype.drawOutType,pickUpType:this.selectDrawtype.pickUpType,businessType:1,createKey:this.lockkey,orderExtendModel:this.purchase,orderDetailModelList:this.listticketBind,memberAddressId:this.memberAddressId,deliveryTemplateId:this.deliveryTemplateId,deliveryTemplateTitle:this.deliveryTemplateTitle,deliveryScope:this.deliveryScope,deliveryFee:(100*this.deliveryFee).toFixed(2),performanceSource:this.performanceSource,entryList:this.signUpForm,orderDiscountList:i,activityVerifyStatus:1==this.hasEntry?0:3,payAmount:(100*this.totalAmountVisible).toFixed(2),discountKey:this.discountKey}).then((function(e){console.log(e),t.orderId=e.data,"TT"==t.platform?t.ttCreateorder():t.payOrder()})).catch((function(e){}))}else this.lockSeatFun()},ttCreateorder:function(){var t=this;e.showLoading({title:"请稍后",mask:!0});var i=[{skuId:this.showId,skuType:2,quantity:Number(this.totalTicketNum),price:100*this.listticketBind[0].price,goodsInfo:{goodsName:this.listticketBind[0].verboseName,goodsPhoto:this.imageUrl,goodsId:this.douyinProductId,goodsType:1,goodsLabels:["不可退"],dateRule:""}}],o={totalAmount:Number(100*this.totalAmount)},n={orderId:this.orderId};tt.createOrder({skuList:i,payment:o,callbackData:n,success:function(s){var r=s.orderId,a=s.outOrderNo;console.log("skuList",JSON.stringify(i)),console.log("payment",JSON.stringify(o)),console.log("callbackData",JSON.stringify(n)),console.log("success res",s),console.log("orderId",r,"outOrderNo",a),e.hideLoading(),t.payFinish()},fail:function(s){var r=s.orderId,a=s.outOrderNo,c=s.errNo,l=s.errMsg,u=s.errLogId;console.log("skuList",JSON.stringify(i)),console.log("payment",JSON.stringify(o)),console.log("callbackData",JSON.stringify(n)),e.hideLoading(),u&&(console.log("预下单失败",c,l,u),e.showToast({title:l,icon:"none",duration:2e3})),(r||a)&&(console.log("支付失败",c,l,r,a),l&&-1!=l.indexOf("cancelled")&&t.cancelOrderFun()),console.log(c,l)}})},payOrder:function(){var t=this,i={orderId:this.orderId,paymentAmount:(100*this.totalAmountVisible).toFixed(2),payPaymentType:this.paymentType,paymentMerchant:this.supplierId,freePurchase:this.freePurchase,performanceName:this.name};(0,T.doOrdersPay)(i).then((function(i){console.log("resolved成功回调"),t.payFinish(),e.requestSubscribeMessage({tmplIds:[P.wxnotifyid_ordersuccess,P.wxnotifyid_orderrefund],success:function(e){console.log(e)}})})).catch((function(i){console.log("catch失败执行回调抛出失败原因：",i),"cancelPay"==i?t.cancelPayModal(2):"cancelOrder"==i?t.cancelPayFun():"cancelPayToList"==i&&e.reLaunch({url:"/pages_order/mine/activityorder?index=".concat(1)})}))},payFinish:function(){var t=JSON.parse(e.getStorageSync("paySuccessOrderIdList")||"[]");t.push({orderId:this.orderId}),e.setStorageSync("paySuccessOrderIdList",JSON.stringify(t)),(0,u.paySuccessNotice)({orderInfoId:this.orderId}).then((function(e){})).catch((function(e){})),e.reLaunch({url:"/pages_game/gameevent/eventpayfinish?name="+this.name+"&eventId="+this.eventId+"&imageUrl="+this.imageUrl+"&pickUpEntity=".concat(encodeURIComponent(JSON.stringify(this.selectDrawtype)))+"&orderId=".concat(this.orderId,"&totalAmountVisible=").concat(this.totalAmountVisible,"&showTime=").concat(this.showTime,"&showName=").concat(this.showName)})},cancelPayModal:function(t){var i=this;e.showModal({title:"继续支付?",content:"点击继续支付按钮立即支付\n取消后跳转到订单页再次支付",showCancel:!0,cancelText:"取消",confirmColor:"#ff5222",confirmText:"继续支付",success:function(o){o.confirm?1==t?i.ttCreateorder():i.payOrder():o.cancel&&e.reLaunch({url:"/pages_order/mine/activityorder?index=".concat(1,"&businessType=",1)})}})},cancelPayFun:function(){(0,u.cancelPay)({orderId:this.orderId}).then((function(t){console.log(t),e.reLaunch({url:"/pages_order/mine/activityorder?index=".concat(1,"&businessType=",1)})})).catch((function(t){console.log(t),e.reLaunch({url:"/pages_order/mine/activityorder?index=".concat(1,"&businessType=",1)})}))},cancelOrderFun:function(){var e=this;(0,u.cancleOrder)({orderId:this.orderId}).then((function(t){e.orderId="",e.buyProType&&(e.lockkey=""),console.log(t)})).catch((function(e){console.log(e)}))},freightFun:function(){var e=this;(0,u.selectFittestFreight)({performanceId:this.eventId,province:this.zzshdizhi.consigneeAddrProvince,city:this.zzshdizhi.consigneeAddrCity,district:this.zzshdizhi.consigneeAddrCounty,performanceSource:this.performanceSource,showId:this.showId}).then((function(t){console.log(t),t&&t.data&&(e.deliveryFee=t.data.amount,e.deliveryTemplateId=t.data.id,e.deliveryTemplateTitle=t.data.title,e.deliveryScope=t.data.deliveryScope,e.calculatePayNum())})).catch((function(e){console.log(e)}))},calculatePayNum:function(){console.log("最初总金额：",this.totalAmount),console.log("快递费金额：",this.deliveryFee),console.log("最初销售政策优惠：",this.couponAmount),console.log("积分抵扣金额：",this.deductionAmount),console.log("指定场次的优惠金额（俱乐部优惠）：",this.couponAmountPlugin),console.log("优惠券抵扣金额：",this.couponDisAmount),this.totalAmountVisible=this.totalAmount,this.totalAmountVisible=(0,p.formatCalculateNum)(this.totalAmountVisible,this.deliveryFee,"+",2),this.totalAmountOutDis=this.totalAmountVisible,this.couponAmountVisible=this.couponAmount,this.isSelectUsePoint&&this.deductionAmount&&this.deductionAmount>0&&(this.totalAmountVisible=(0,p.formatCalculateNum)(this.totalAmount,this.deductionAmount,"-",2),this.couponAmountVisible=(0,p.formatCalculateNum)(this.couponAmountVisible,this.deductionAmount,"+",2)),this.couponAmountPlugin&&(this.totalAmountVisible=(0,p.formatCalculateNum)(this.totalAmountVisible,this.couponAmountPlugin,"-",2),this.couponAmountVisible=(0,p.formatCalculateNum)(this.couponAmountVisible,this.couponAmountPlugin,"+",2)),this.couponDisAmount>0&&(this.totalAmountVisible=(0,p.formatCalculateNum)(this.totalAmountVisible,this.couponDisAmount,"-",2),this.couponAmountVisible=(0,p.formatCalculateNum)(this.couponAmountVisible,this.couponDisAmount,"+",2)),console.log("优惠金额（不包括优惠）：",this.totalAmountOutDis),console.log("实际优惠金额：",this.couponAmountVisible),console.log("实际支付金额：",this.totalAmountVisible)},lockSeatFun:function(){var e=this;(0,u.lockSeat)({showId:this.showId,seatList:this.listticketBind}).then((function(t){if(console.log(t),t.data){e.lockkey=t.data.key;var i=t.data.showSeats;if(i)for(var o=0;o<i.length;o++)e.listticketBind[o].seatId=i[o].id,e.listticketBind[o].seatSnapshot=i[o].snapshot;e.createOrderFun()}})).catch((function(e){}))},goWriteForm:function(){var t=this;if(3==this.realNameType)for(var i=0;i<this.listticketBind.length;i++)if(!this.listticketBind[i].registerName)return void e.showToast({title:"请选择实名持票人",icon:"none"});e.navigateTo({url:"/pages_game/gameevent/writeEventForm?imageUrl="+this.imageUrl+"&entryNote="+this.entryNote+"&ticketNum="+this.totalTicketNum,success:function(e){e.eventChannel.emit("acceptDataFromOpenerPage",{data:t.signUpForm})}})},getSignupInfo:function(e){this.isWriteForm=!0,this.signUpForm=e},getSologanDetail:function(){var e=this;return(0,r.default)(n.default.mark((function t(){var i,o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,g.sologan_detail)();case 2:i=t.sent,(o=i.data)&&o.pointExchangeRmbRatePoint&&o.pointExchangeRmbRateRmb&&(e.pointExchangeRmbRatePoint=o.pointExchangeRmbRatePoint,e.pointExchangeRmbRateRmb=o.pointExchangeRmbRateRmb,e.exchengeRatio=(0,p.numFilterUp)(o.pointExchangeRmbRateRmb/o.pointExchangeRmbRatePoint));case 5:case"end":return t.stop()}}),t)})))()},getMemberShip:function(){var e=this;return(0,r.default)(n.default.mark((function t(){var i,o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,g.member_ship_info)({});case 2:i=t.sent,(o=i.data)&&o.memberShip&&(o.memberShip.totalPoints&&(e.totalPoints=o.memberShip.totalPoints),e.pointSwitchOn&&e.setPointDeduction());case 5:case"end":return t.stop()}}),t)})))()},setPointDeduction:function(){if(this.totalPoints>=this.minAvailablePoint){var e=Number((0,p.numFilterDown)(this.totalAmount*this.maxPointDeductionPersent/100)),t=Number((0,p.numFilterDown)(this.totalPoints*this.exchengeRatio)),i=Number((0,p.numFilterDown)(e/this.exchengeRatio));console.log("maxDeduction",e),console.log("realDeduction",t),console.log("realUsePoint",i),console.log("exchengeRatio",this.exchengeRatio),e>=t?(this.deductionText="共"+this.totalPoints+"积分，"+this.totalPoints+"积分可用",this.deductionPoint=this.totalPoints,this.deductionAmount=(0,p.numFilterDown)(this.totalPoints*this.exchengeRatio),this.deductionMoneyText="可以用"+this.totalPoints+"积分，抵扣¥"+this.deductionAmount,this.deductionTextSelect="已使用"+this.totalPoints+"积分，抵扣¥"+this.deductionAmount):(this.deductionText="共"+this.totalPoints+"积分，"+i+"积分可用",this.deductionPoint=i,this.deductionAmount=(0,p.numFilterDown)(i*this.exchengeRatio),this.deductionMoneyText="可以用"+i+"积分，抵扣¥"+this.deductionAmount,this.deductionTextSelect="已使用"+i+"积分，抵扣¥"+this.deductionAmount)}else this.totalPoints<this.minAvailablePoint&&(this.deductionText="共"+this.totalPoints+"积分，0积分可用",this.deductionPoint=0,this.deductionAmount=0)},chooseDeduction:function(){this.deductionPoint>0?this.$refs.setPoint.open():e.showToast({title:"暂无可用积分",icon:"none"})},saveOffset:function(e){this.isSelectUsePoint=e,e&&(this.coupStr="",this.discountKey="",this.couponDisAmount=0,this.coupDiscountObj=null),this.calculatePayNum()},chooseCoupon:function(){var t=this;0==this.couponList.length?(e.showLoading(),(0,y.getMemberCoupon)({pageNum:1,pageSize:20,status:0}).then((function(i){e.hideLoading(),t.couponList=[],i.data.rows&&i.data.rows.length>0&&(t.couponList=[].concat((0,s.default)(t.couponList),(0,s.default)(i.data.rows)),console.log("couponList",t.couponList),t.couponList.forEach((function(e){e.isSelect=!1}))),t.couponList.length>0?t.$refs.selectCouponPop.openPop():e.showToast({title:"暂无可用优惠券",icon:"none"})})).catch((function(t){console.log(t),e.hideLoading()}))):this.$refs.selectCouponPop.openPop()},selectCoup:function(e){console.log("couponINFO",e),e?this.getCoupDiscountedPrice(e):(this.$refs.selectCouponPop.closePop(),this.coupStr="",this.discountKey="",this.couponDisAmount=0,this.coupDiscountObj=null,this.calculatePayNum())},getCoupDiscountedPrice:function(e){var t=this,i=this.listticketBind.map((function(e){return e.fareLevel})),o={performanceId:this.eventId,showId:this.showId,payAmount:(100*this.totalAmountOutDis).toFixed(2),ticketNum:this.totalTicketNum,farelevelList:i};(0,y.couponDiscount)({discountType:e.discountType,couponId:e.couponId,memberRelationCouponId:e.id,performanceOrder:o}).then((function(i){if(null!=i&&i.data){t.$refs.selectCouponPop.closePop(),t.coupStr=(0,k.getDiscountPayText)(e),t.isSelectUsePoint=!1,t.discountKey=i.data.discountKey;var o=Math.max(0,i.data.payAmount-i.data.discountAmount);t.couponDisAmount=parseFloat((o/100).toFixed(2)),t.calculatePayNum(),t.coupDiscountObj=t.createCouponDiscountObject(o,e)}})).catch((function(e){}))},createCouponDiscountObject:function(e,t){return console.log("discountAmountFlag",e),console.log("coupInfo",t),{discountType:"1",discountAmount:parseFloat(e.toFixed(2)),couponId:t.couponId,memberRelationCouponId:t.id,couponType:t.discountType}},setTimer:function(){var e=this,t=180;this.rightPayText="立即支付(180)",this.rightPayTimer=setInterval((function(){if(t<=0)return e.rightPayText="立即支付",e.rightPayCountTime=0,e.unlockSeatFun(),void clearInterval(e.rightPayTimer);e.rightPayText="立即支付("+t+"s)",t--}),1e3)},unlockSeatFun:function(){var e=this;return(0,r.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.lockkey){t.next=6;break}return t.next=3,(0,u.unlockSeat)({id:e.lockkey});case 3:t.sent.data;case 6:case"end":return t.stop()}}),t)})))()},loadHtmlText:function(t,i){var o=this;e.request({url:i,method:"GET",header:{Referer:"","Content-Type":"text/html",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},success:function(e){o.getRichText(e,t)},fail:function(e){console.log("加载html失败",e)}})},getRichText:function(e,t){var i=e.data.replace(/\<img/gi,'<img style="width:100%;height:auto;" ').replace(/iframe/g,"video").replace(/\<video/gi,'<video style="width:100%;" playsinline="true" webkit-playsinline="true" x5-playsinline="true" x5-video-player-type="h5" x5-video-player-fullscreen="false"');1==t&&(this.buyProtocolContext=i)},openServiceDesc:function(){this.buyProtocolContext&&(this.$refs.richNotePopup.open(),this.showPopup=!0)},handleChange:function(e){this.isSelectedRead=!0,console.log("选中的值："+e)},back:function(){this.orderId?this.isToMpPay?e.reLaunch({url:"/pages_order/mine/activityorder?index=".concat(1)}):this.$refs.orderExitWarn.open("center"):(1==this.buyProType&&this.unlockSeatFun(),e.navigateBack())}}};t.default=A}).call(this,i("df3c").default)},"34a1":function(e,t,i){"use strict";var o=i("5cfe");i.n(o).a},"5cfe":function(e,t,i){},"7e1b":function(e,t,i){"use strict";i.r(t);var o=i("2e54"),n=i.n(o);for(var s in o)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(s);t.default=n.a},9250:function(e,t,i){"use strict";i.r(t);var o=i("b4a3"),n=i("7e1b");for(var s in n)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(s);i("34a1"),i("0f50");var r=i("828b"),a=Object(r.a)(n.default,o.b,o.c,!1,null,"5a8db746",null,!1,o.a,void 0);t.default=a.exports},b4a3:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return o}));var o={uniNavBar:function(){return i.e("uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar").then(i.bind(null,"f9b6"))},paywayradio:function(){return i.e("components/paywayradio/paywayradio").then(i.bind(null,"2bfe"))},uniPopup:function(){return i.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(i.bind(null,"5b0a"))},goodsaddress:function(){return i.e("components/goodsaddress/goodsaddress").then(i.bind(null,"2db5"))},ticketaddress:function(){return i.e("components/ticketaddress/ticketaddress").then(i.bind(null,"7da7"))},VerifyCodePopup:function(){return Promise.all([i.e("common/vendor"),i.e("components/VerifyCodePopup/VerifyCodePopup")]).then(i.bind(null,"6689"))}},n=function(){var e=this,t=(e.$createElement,e._self._c,e.$previewImageAddress("event_detail_blur_foreground.png")),i=e.$previewImageAddress("ticket_detail_divide.png"),o=e.listticketBindTp.length,n=o>0?Number(e.realNameType):null,s=o>0?null:Number(e.realNameType),r=e.sendList&&e.sendList.length>1,a=e.sendList&&e.sendList.length>0,c=3==e.selectDrawtype.pickUpType&&e.zzshdizhi&&e.zzshdizhi.consigneeName?e.$previewImageAddress("arrow_right_gray.png"):null,l=3!=e.selectDrawtype.pickUpType||e.zzshdizhi&&e.zzshdizhi.consigneeName?null:e.$previewImageAddress("arrow_right_gray.png"),u=2==e.selectDrawtype.drawOutType?e.ticketshop.length:null,h=2==e.selectDrawtype.drawOutType?e.$previewImageAddress("arrow_right_gray.png"):null,d=1==e.hasEntry?e.$previewImageAddress("signup_form.png"):null,p=1==e.hasEntry&&e.isWriteForm?e.signUpForm.length:null,m=1!=e.hasEntry||e.isWriteForm?null:e.signUpForm.length,f=1==e.hasEntry?e.$previewImageAddress("arrowright.png"):null,g="TT"!=e.platform&&e.pointSwitchOn?e.$previewImageAddress("arrowright.png"):null,y="TT"!=e.platform?e.$previewImageAddress("arrowright.png"):null,P=e.$previewImageAddress("arrowright.png"),T=Number(e.deductionAmount),k=e.listticketBindTp.length;e.$mp.data=Object.assign({},{$root:{m0:t,m1:i,g0:o,m2:n,m3:s,g1:r,g2:a,m4:c,m5:l,g3:u,m6:h,m7:d,g4:p,g5:m,m8:f,m9:g,m10:y,m11:P,m12:T,g6:k}})},s=[]},dfb4:function(e,t,i){"use strict";(function(e,t){var o=i("47a9");i("42bd"),i("861b"),o(i("3240"));var n=o(i("9250"));e.__webpack_require_UNI_MP_PLUGIN__=i,t(n.default)}).call(this,i("3223").default,i("df3c").createPage)}},[["dfb4","common/runtime","common/vendor"]]]);
},{isPage:true,isComponent:true,currentFile:'pages_game/gameevent/eventpay.js'});require("pages_game/gameevent/eventpay.js");