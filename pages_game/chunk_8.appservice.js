$gwx2_XC_14=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx2_XC_14 || [];
function gz$gwx2_XC_14_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx2_XC_14_1)return __WXML_GLOBAL__.ops_cached.$gwx2_XC_14_1
__WXML_GLOBAL__.ops_cached.$gwx2_XC_14_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'content data-v-e93494e4'])
Z([3,'__l'])
Z([3,'data-v-e93494e4 vue-ref'])
Z([3,'confirm'])
Z([3,'64a4d11f-1'])
Z(z[1])
Z(z[2])
Z([3,'verifycode'])
Z([3,'64a4d11f-2'])
})(__WXML_GLOBAL__.ops_cached.$gwx2_XC_14_1);return __WXML_GLOBAL__.ops_cached.$gwx2_XC_14_1
}
__WXML_GLOBAL__.ops_set.$gwx2_XC_14=z;
__WXML_GLOBAL__.ops_init.$gwx2_XC_14=true;
var x=['./pages_game/gameevent/chooseseat.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx2_XC_14_1()
var oXM=_n('view')
_rz(z,oXM,'class',0,e,s,gg)
var cYM=_mz(z,'pup-limit',['bind:__l',1,'class',1,'data-ref',2,'vueId',3],[],e,s,gg)
_(oXM,cYM)
var oZM=_mz(z,'verify-code-popup',['bind:__l',5,'class',1,'data-ref',2,'vueId',3],[],e,s,gg)
_(oXM,oZM)
_(r,oXM)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx2_XC_14";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx2_XC_14();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages_game/gameevent/chooseseat.wxml'] = [$gwx2_XC_14, './pages_game/gameevent/chooseseat.wxml'];else __wxAppCode__['pages_game/gameevent/chooseseat.wxml'] = $gwx2_XC_14( './pages_game/gameevent/chooseseat.wxml' );
	;__wxRoute = "pages_game/gameevent/chooseseat";__wxRouteBegin = true;__wxAppCurrentFile__="pages_game/gameevent/chooseseat.js";define("pages_game/gameevent/chooseseat.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
require("../common/vendor.js"),(global.webpackJsonp=global.webpackJsonp||[]).push([["pages_game/gameevent/chooseseat"],{"2c79":function(e,t,a){"use strict";var o=a("ef43");a.n(o).a},"3a64":function(e,t,a){"use strict";a.r(t);var o=a("eac3"),s=a.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(i);t.default=s.a},"46e1":function(e,t,a){"use strict";(function(e,t){var o=a("47a9");a("42bd"),a("861b"),o(a("3240"));var s=o(a("b80f"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(s.default)}).call(this,a("3223").default,a("df3c").createPage)},b80f:function(e,t,a){"use strict";a.r(t);var o=a("d2ae"),s=a("3a64");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("2c79");var n=a("828b"),r=Object(n.a)(s.default,o.b,o.c,!1,null,"e93494e4",null,!1,o.a,void 0);t.default=r.exports},d2ae:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o}));var o={VerifyCodePopup:function(){return Promise.all([a.e("common/vendor"),a.e("components/VerifyCodePopup/VerifyCodePopup")]).then(a.bind(null,"6689"))}},s=function(){this.$createElement,this._self._c},i=[]},eac3:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a("6fe6"),s=a("4380"),i={data:function(){return{url:"",seatBaseUrl:"",callbackUrl:"",formData:[],itemdata:{},cheapesData:[],lockkey:"",fareIndex:-1,pId:"",sId:"",aId:"",areaCount:1,pCode:"",showSeats:[],isAdd:!0,totalAmount:0,couponAmount:0,performanceSource:null,fromCode:1,showTime:"",showName:"",choiceSeatType:0,chooseVersion:0,ticketOutletId:""}},onLoad:function(t){var a=this;console.log("chooseseat",t),this.getOpenerEventChannel().on("acceptDataFromOpenerPage",(function(t){console.log("eventChannel",t),a.itemdata=JSON.parse(decodeURIComponent(t.itemdata)),a.fareIndex=t.fareIndex,a.showTime=t.showTime,a.showName=t.showName,a.pId=a.itemdata.id,a.fromCode=2,a.chooseVersion=t.chooseVersion;var s=JSON.parse(decodeURIComponent(t.navItemData));if(s&&(a.sId=s.id,-1!=a.fareIndex&&(a.pCode=s.showFarelevelList[a.fareIndex].code),a.choiceSeatType=s.choiceSeatType,a.areaCount=s.areaCount,1==s.areaCount&&(a.aId=s.areaId),a.performanceSource=s.performanceSource),a.ticketOutletId=t.ticketOutletId,"https://app-api.dasheng.top/"==o.baseURL||"https://xcx-api.dasheng.top/"==o.baseURL?a.seatBaseUrl=o.seatUrlPro:"https://app-api-test.dasheng.top/"==o.baseURL||"https://xcx-api-test.dasheng.top/"==o.baseURL?a.seatBaseUrl=o.seatUrlTest:"https://app-api-pre.dasheng.top/"!=o.baseURL&&"https://xcx-api-pre.dasheng.top/"!=o.baseURL||(a.seatBaseUrl=o.seatUrlPre),a.performanceSource){var i={inV:1,ticketOutletId:a.ticketOutletId,imageUrl:a.itemdata.imageUrl,name:a.itemdata.name,venueAddress:a.itemdata.venueAddress,realNameType:a.itemdata.realNameType,printTicketTypesMap:a.itemdata.printTicketTypesMap,id:a.itemdata.id,performanceSource:a.itemdata.performanceSource,showName:a.showName,showTime:a.showTime},n=JSON.stringify(i);console.log("params",n),a.callbackUrl=a.seatBaseUrl+"v="+a.chooseVersion+"#/pick-third-party?type=1&fromCode="+a.fromCode+"&auth="+e.getStorageSync("token")+"&pInfo="+n,console.log("callbackUrl",a.callbackUrl),a.goThirdChooseSeatUrl()}else{var r="pid="+a.pId+"&fromCode="+a.fromCode+"&sid="+a.sId+"&token="+e.getStorageSync("token")+"&inV=1&ticketOutletId="+a.ticketOutletId;1==a.areaCount&&(r+="&aid="+a.aId),a.pCode&&(r+="&pCode="+a.pCode),2==a.choiceSeatType?a.url=a.seatBaseUrl+"v="+a.chooseVersion+"/#/pick-area-seat?"+r:1==a.areaCount?a.url=a.seatBaseUrl+"v="+a.chooseVersion+"/#/pick-seat?"+r:a.url=a.seatBaseUrl+"v="+a.chooseVersion+"/#/pick-area?"+r}console.log("chooseseaturl",a.url)}))},methods:{handleMessage:function(t){if(console.log("接收到的消息："+t.detail.data),this.lockkey=JSON.parse(JSON.stringify(t.detail.data[0].data.key)),this.couponAmount=parseFloat(JSON.parse(JSON.stringify(t.detail.data[0].data.deltaPrice))).toFixed(2),this.totalAmount=JSON.parse(JSON.stringify(t.detail.data[0].data.totalAmount)),console.log("接收到的消息："+JSON.parse(JSON.stringify(t.detail.data[0].data.key))),this.showSeats=JSON.parse(JSON.stringify(t.detail.data[0].data.showSeats)),console.log("接收到的消息："+JSON.stringify(t.detail.data[0].data.showSeats)),this.showSeats.length){var a=this.showSeats.length;if(this.showSeats.length)for(var o=0;o<this.showSeats.length;o++){if(this.formData.length){this.isAdd=!0;for(var s=0;s<this.formData.length;s++)this.showSeats[o].salePrice==this.formData[s].price&&(this.formData[s].ticketNum=this.formData[s].ticketNum+1,this.isAdd=!1);this.isAdd&&(console.log("aaaa"),this.formData.push({price:this.showSeats[o].salePrice,ticketNum:1,verboseName:this.showSeats[o].snapshot}))}else this.formData.push({price:this.showSeats[o].salePrice,ticketNum:1,verboseName:this.showSeats[o].snapshot});this.cheapesData.push({fareLevel:this.showSeats[o].fareLevel,price:this.showSeats[o].salePrice,registerName:"",registerNo:"",seatId:this.showSeats[o].id,realnameRelationId:"",verboseName:this.showSeats[o].fareLevelVerboseName,seatSnapshot:this.showSeats[o].snapshot})}var i=JSON.stringify(this.itemdata);e.navigateTo({url:"/pages_game/gameevent/eventpay?itemdata="+encodeURIComponent(i)+"&cheapesData=".concat(JSON.stringify(this.cheapesData),"&formData=").concat(JSON.stringify(this.formData),"&totalTicketNum=\n\t\t\t\t\t\t\t").concat(a,"&totalAmount=").concat(this.totalAmount,"&couponAmount=").concat(this.couponAmount,"&lockkey=")+this.lockkey+"&showTime=".concat(this.showTime,"&ticketOutletId=").concat(this.ticketOutletId)})}},goThirdChooseSeatUrl:function(){var t=this;(0,s.getThirdToken)({showId:this.sId,callbackUrl:encodeURIComponent(this.callbackUrl)}).then((function(e){console.log(e),e&&(t.url=e.data.url),console.log("chooseseaturl",t.url)})).catch((function(t){console.log(t),e.showToast({title:t.msg,icon:"none"})}))}}};t.default=i}).call(this,a("df3c").default)},ef43:function(e,t,a){}},[["46e1","common/runtime","common/vendor"]]]);
},{isPage:true,isComponent:true,currentFile:'pages_game/gameevent/chooseseat.js'});require("pages_game/gameevent/chooseseat.js");