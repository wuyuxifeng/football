$gwx_XC_32=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_32 || [];
function gz$gwx_XC_32_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_32_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_32_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_32_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[4],[[5],[[5],[[5],[1,'lime-clipper']],[1,'data-v-e7472f9a']],[[2,'?:'],[[7],[3,'value']],[1,'open'],[1,'']]]])
Z([1,true])
Z([[2,'+'],[[2,'+'],[[2,'+'],[1,'z-index: '],[[7],[3,'zIndex']]],[1,';']],[[7],[3,'customStyle']]])
Z([[7],[3,'image']])
Z([3,'lime-clipper-tools data-v-e7472f9a'])
Z([3,'lime-clipper-tools__btns data-v-e7472f9a'])
Z([[7],[3,'isShowCancelBtn']])
Z([3,'__e'])
Z([3,'data-v-e7472f9a'])
Z([[4],[[5],[[4],[[5],[[5],[1,'tap']],[[4],[[5],[[4],[[5],[[5],[1,'cancel']],[[4],[[5],[1,'$event']]]]]]]]]]])
Z([[6],[[7],[3,'$slots']],[3,'cancel']])
Z([3,'cancel'])
Z([[7],[3,'isShowPhotoBtn']])
Z(z[7])
Z(z[8])
Z([[4],[[5],[[4],[[5],[[5],[1,'tap']],[[4],[[5],[[4],[[5],[[5],[1,'uploadImage']],[[4],[[5],[1,'$event']]]]]]]]]]])
Z([[6],[[7],[3,'$slots']],[3,'photo']])
Z([3,'photo'])
Z([[7],[3,'isShowRotateBtn']])
Z(z[7])
Z(z[8])
Z([[4],[[5],[[4],[[5],[[5],[1,'tap']],[[4],[[5],[[4],[[5],[[5],[1,'rotate']],[[4],[[5],[1,'$event']]]]]]]]]]])
Z([[6],[[7],[3,'$slots']],[3,'rotate']])
Z([3,'rotate'])
Z([[7],[3,'isShowConfirmBtn']])
Z(z[7])
Z(z[8])
Z([[4],[[5],[[4],[[5],[[5],[1,'tap']],[[4],[[5],[[4],[[5],[[5],[1,'confirm']],[[4],[[5],[1,'$event']]]]]]]]]]])
Z([[6],[[7],[3,'$slots']],[3,'confirm']])
Z([3,'confirm'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_32_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_32_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_32=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_32=true;
var x=['./uni_modules/lime-clipper/components/l-clipper/l-clipper.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_32_1()
var oBP=_mz(z,'view',['class',0,'disableScroll',1,'style',1],[],e,s,gg)
var lCP=_v()
_(oBP,lCP)
if(_oz(z,3,e,s,gg)){lCP.wxVkey=1
}
var aDP=_n('view')
_rz(z,aDP,'class',4,e,s,gg)
var tEP=_n('view')
_rz(z,tEP,'class',5,e,s,gg)
var eFP=_v()
_(tEP,eFP)
if(_oz(z,6,e,s,gg)){eFP.wxVkey=1
var oJP=_mz(z,'view',['bindtap',7,'class',1,'data-event-opts',2],[],e,s,gg)
var fKP=_v()
_(oJP,fKP)
if(_oz(z,10,e,s,gg)){fKP.wxVkey=1
var cLP=_n('slot')
_rz(z,cLP,'name',11,e,s,gg)
_(fKP,cLP)
}
else{fKP.wxVkey=2
}
fKP.wxXCkey=1
_(eFP,oJP)
}
var bGP=_v()
_(tEP,bGP)
if(_oz(z,12,e,s,gg)){bGP.wxVkey=1
var hMP=_mz(z,'view',['bindtap',13,'class',1,'data-event-opts',2],[],e,s,gg)
var oNP=_v()
_(hMP,oNP)
if(_oz(z,16,e,s,gg)){oNP.wxVkey=1
var cOP=_n('slot')
_rz(z,cOP,'name',17,e,s,gg)
_(oNP,cOP)
}
else{oNP.wxVkey=2
}
oNP.wxXCkey=1
_(bGP,hMP)
}
var oHP=_v()
_(tEP,oHP)
if(_oz(z,18,e,s,gg)){oHP.wxVkey=1
var oPP=_mz(z,'view',['bindtap',19,'class',1,'data-event-opts',2],[],e,s,gg)
var lQP=_v()
_(oPP,lQP)
if(_oz(z,22,e,s,gg)){lQP.wxVkey=1
var aRP=_n('slot')
_rz(z,aRP,'name',23,e,s,gg)
_(lQP,aRP)
}
else{lQP.wxVkey=2
}
lQP.wxXCkey=1
_(oHP,oPP)
}
var xIP=_v()
_(tEP,xIP)
if(_oz(z,24,e,s,gg)){xIP.wxVkey=1
var tSP=_mz(z,'view',['bindtap',25,'class',1,'data-event-opts',2],[],e,s,gg)
var eTP=_v()
_(tSP,eTP)
if(_oz(z,28,e,s,gg)){eTP.wxVkey=1
var bUP=_n('slot')
_rz(z,bUP,'name',29,e,s,gg)
_(eTP,bUP)
}
else{eTP.wxVkey=2
}
eTP.wxXCkey=1
_(xIP,tSP)
}
eFP.wxXCkey=1
bGP.wxXCkey=1
oHP.wxXCkey=1
xIP.wxXCkey=1
_(aDP,tEP)
var oVP=_n('slot')
_(aDP,oVP)
_(oBP,aDP)
lCP.wxXCkey=1
_(r,oBP)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_32";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_32();	if (__vd_version_info__.delayedGwx) __wxAppCode__['uni_modules/lime-clipper/components/l-clipper/l-clipper.wxml'] = [$gwx_XC_32, './uni_modules/lime-clipper/components/l-clipper/l-clipper.wxml'];else __wxAppCode__['uni_modules/lime-clipper/components/l-clipper/l-clipper.wxml'] = $gwx_XC_32( './uni_modules/lime-clipper/components/l-clipper/l-clipper.wxml' );
	;__wxRoute = "uni_modules/lime-clipper/components/l-clipper/l-clipper";__wxRouteBegin = true;__wxAppCurrentFile__="uni_modules/lime-clipper/components/l-clipper/l-clipper.js";define("uni_modules/lime-clipper/components/l-clipper/l-clipper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
(global.webpackJsonp=global.webpackJsonp||[]).push([["uni_modules/lime-clipper/components/l-clipper/l-clipper"],{"2e8c":function(t,i,e){},3460:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){}));var a=function(){this.$createElement,this._self._c},n=[]},9030:function(t,i,e){"use strict";var a=e("2e8c");e.n(a).a},a4aa:function(t,i,e){"use strict";(function(t,a){var n=e("47a9");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("7eb4")),h=n(e("ee10")),c=e("c426"),o={},l={name:"lime-clipper",props:{value:{type:Boolean,default:!0},type:{type:String,default:"2d"},customStyle:{type:String},zIndex:{type:Number,default:99},imageUrl:{type:String},fileType:{type:String,default:"png"},quality:{type:Number,default:1},width:{type:Number,default:600},height:{type:Number,default:600},minWidth:{type:Number,default:200},maxWidth:{type:Number,default:600},destWidth:Number,destHeight:Number,minHeight:{type:Number,default:200},maxHeight:{type:Number,default:600},isLockWidth:{type:Boolean,default:!1},isLockHeight:{type:Boolean,default:!1},isLockRatio:{type:Boolean,default:!0},scaleRatio:{type:Number,default:1},minRatio:{type:Number,default:.5},maxRatio:{type:Number,default:2},isDisableScale:{type:Boolean,default:!1},isDisableRotate:{type:Boolean,default:!1},isLimitMove:{type:Boolean,default:!1},isShowPhotoBtn:{type:Boolean,default:!0},isShowRotateBtn:{type:Boolean,default:!0},isShowConfirmBtn:{type:Boolean,default:!0},isShowCancelBtn:{type:Boolean,default:!0},rotateAngle:{type:Number,default:90},source:{type:Object,default:function(){return{album:"从相册中选择",camera:"拍照",message:"从微信中选择"}}}},data:function(){return{canvasWidth:0,canvasHeight:0,clipX:0,clipY:0,clipWidth:0,clipHeight:0,animation:!1,imageWidth:0,imageHeight:0,imageTop:0,imageLeft:0,scale:1,angle:0,image:"",imageInit:!1,sysinfo:{},throttleTimer:null,throttleFlag:!0,timeClipCenter:null,flagClipTouch:!1,flagEndTouch:!1,clipStart:{},animationTimer:null,touchRelative:[{x:0,y:0}],hypotenuseLength:0,ctx:null,canvasId:"lime-clipper"}},computed:{clipStyle:function(){var t=this.clipWidth,i=this.clipHeight,e=this.clipY,a=this.clipX,n=this.animation;return"\n\t\t\twidth: ".concat(t,"px;\n\t\t\theight:").concat(i,"px;\n\t\t\ttransition-property: ").concat(n?"":"background",";\n\t\t\tleft: ").concat(a,"px;\n\t\t\ttop: ").concat(e,"px\n\t\t\t")},imageStyle:function(){var t=this.imageWidth,i=this.imageHeight,e=this.imageLeft,a=this.imageTop,n=this.animation,s=this.scale,h=this.angle;return"\n\t\t\t\twidth: ".concat(t?t+"px":"auto",";\n\t\t\t\theight: ").concat(i?i+"px":"auto",";\n\t\t\t\ttransform: translate3d(").concat(e-t/2,"px, ").concat(a-i/2,"px, 0) scale(").concat(s,") rotate(").concat(h,"deg);\n\t\t\t\ttransition-duration: ").concat(n?.35:0,"s\n\t\t\t")},clipSize:function(){return{clipWidth:this.clipWidth,clipHeight:this.clipHeight}},clipPoint:function(){return{clipY:this.clipY,clipX:this.clipX}}},watch:{value:function(t){if(t){if(this.imageUrl){var i=(null==o?void 0:o[this.imageUrl])||{},e=i.imageWidth,a=i.imageHeight,n=i.imageLeft,s=i.imageTop,h=i.scale,c=i.clipX,l=i.clipY,p=i.clipWidth,u=i.clipHeight;i.path!=this.image?this.image=this.imageUrl:this.setDiffData({imageWidth:e,imageHeight:a,imageLeft:n,imageTop:s,scale:h,clipX:c,clipY:l,clipWidth:p,clipHeight:u})}}else this.animation=0,this.angle=0},imageUrl:function(t){this.image=t},image:{handler:function(){var t=(0,h.default)(s.default.mark((function t(i){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.getImageInfo(i);case 1:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}()},clipSize:function(t){var i=t.widthVal,e=t.heightVal,a=this.minWidth,n=this.minHeight;n/=2,i<(a/=2)&&this.setDiffData({clipWidth:a}),e<n&&this.setDiffData({clipHeight:n}),this.calcClipSize()},angle:function(t){this.animation=this.imageInit,this.moveStop(),this.isLimitMove&&t%90&&this.setDiffData({angle:90*Math.round(t/90)}),this.imgMarginDetectionScale()},animation:function(t){var i=this;if(clearTimeout(this.animationTimer),t){var e=setTimeout((function(){i.setDiffData({animation:!1})}),260);this.setDiffData({animationTimer:e}),this.animationTimer=e}},isLimitMove:function(t){t&&(this.angle%90&&this.setDiffData({angle:90*Math.round(this.angle/90)}),this.imgMarginDetectionScale())},clipPoint:function(){this.cutDetectionPosition()},width:function(i,e){i!==e&&this.setDiffData({clipWidth:t.upx2px(i)})},height:function(i,e){i!==e&&this.setDiffData({clipHeight:t.upx2px(i)})}},mounted:function(){var i=t.getSystemInfoSync();this.sysinfo=i,this.setClipInfo(),this.image=this.imageUrl||this.image,this.setClipCenter(),this.calcClipSize(),this.cutDetectionPosition(),this.uploadImage()},methods:{setDiffData:function(t){var i=this;Object.keys(t).forEach((function(e){i[e]!==t[e]&&(i[e]=t[e])}))},getImageInfo:function(i){var e=this;i&&(this.value&&t.showLoading({title:"请稍候...",mask:!0}),this.imageInit=!1,t.getImageInfo({src:i,success:function(t){["right","left"].includes(t.orientation)?e.imgComputeSize(t.height,t.width):e.imgComputeSize(t.width,t.height),e.image=t.path,e.isLimitMove&&(e.imgMarginDetectionScale(),e.$emit("ready",t));var a=e.imageWidth,n=e.imageHeight,s=e.imageLeft,h=e.imageTop,c=e.scale,l=e.clipX,p=e.clipY,u=e.clipWidth,f=e.clipHeight;o[i]=Object.assign(t,{imageWidth:a,imageHeight:n,imageLeft:s,imageTop:h,scale:c,clipX:l,clipY:p,clipWidth:u,clipHeight:f})},fail:function(t){e.imgComputeSize(),e.isLimitMove&&e.imgMarginDetectionScale()}}))},setClipInfo:function(){var i=this.width,e=this.height,a=this.sysinfo,n=this.canvasId,s=i/2,h=e/2,c=(a.windowHeight-h)/2,o=(a.windowWidth-s)/2,l=a.windowWidth/2,p=a.windowHeight/2;this.ctx=t.createCanvasContext(n,this),this.clipWidth=s,this.clipHeight=h,this.clipX=o,this.clipY=c,this.canvasHeight=h,this.canvasWidth=s,this.imageLeft=l,this.imageTop=p},setClipCenter:function(){var i=this.sysInfo,e=this.clipHeight,a=this.clipWidth,n=this.imageTop,s=this.imageLeft,h=i||t.getSystemInfoSync(),c=.5*(h.windowHeight-e),o=.5*(h.windowWidth-a);this.imageTop=n-this.clipY+c,this.imageLeft=s-this.clipX+o,this.clipY=c,this.clipX=o},calcClipSize:function(){var t=this.clipHeight,i=this.clipWidth,e=this.sysinfo,a=this.clipX,n=this.clipY;i>e.windowWidth?this.setDiffData({clipWidth:e.windowWidth}):i+a>e.windowWidth&&this.setDiffData({clipX:e.windowWidth-a}),t>e.windowHeight?this.setDiffData({clipHeight:e.windowHeight}):t+n>e.windowHeight&&(this.clipY=e.windowHeight-n,this.setDiffData({clipY:e.windowHeight-n}))},cutDetectionPosition:function(){var t=this,i=this.clipX,e=this.clipY,a=this.sysinfo,n=this.clipHeight,s=this.clipWidth,h=function(){e<0&&t.setDiffData({clipY:0}),e>a.windowHeight-n&&t.setDiffData({clipY:a.windowHeight-n})},c=function(){i<0&&t.setDiffData({clipX:0}),i>a.windowWidth-s&&t.setDiffData({clipX:a.windowWidth-s})};if(null===e&&null===i){var o=.5*(a.windowHeight-n),l=.5*(a.windowWidth-s);this.setDiffData({clipX:l,clipY:o})}else null!==e&&null!==i?(h(),c()):null!==e&&null===i?(h(),this.setDiffData({clipX:(a.windowWidth-s)/2})):null===e&&null!==i&&(c(),this.setDiffData({clipY:(a.windowHeight-n)/2}))},imgComputeSize:function(t,i){var e=(0,c.calcImageSize)(t,i,this),a=e.imageWidth,n=e.imageHeight;this.imageWidth=a,this.imageHeight=n},imgMarginDetectionScale:function(t){if(this.isLimitMove){var i=(0,c.calcImageScale)(this,t);this.imgMarginDetectionPosition(i)}},imgMarginDetectionPosition:function(t){if(this.isLimitMove){var i=(0,c.calcImageOffset)(this,t),e=i.scale,a=i.left,n=i.top;this.setDiffData({imageLeft:a,imageTop:n,scale:e})}},throttle:function(){this.setDiffData({throttleFlag:!0})},moveDuring:function(){clearTimeout(this.timeClipCenter)},moveStop:function(){var t=this;clearTimeout(this.timeClipCenter);var i=setTimeout((function(){t.animation||t.setDiffData({imageInit:!0,animation:!0}),t.setClipCenter()}),800);this.setDiffData({timeClipCenter:i})},clipTouchStart:function(i){if(this.image){var e=i.touches[0].clientX,a=i.touches[0].clientY,n=this.clipX,s=this.clipY,h=this.clipWidth,o=this.clipHeight,l=(0,c.determineDirection)(n,s,h,o,e,a);this.moveDuring(),l&&(this.clipStart={width:h,height:o,x:e,y:a,clipY:s,clipX:n,corner:l},this.flagClipTouch=!0,this.flagEndTouch=!0)}else t.showToast({title:"请选择图片",icon:"none"})},clipTouchMove:function(i){if(this.image){if(1===i.touches.length){var e=this.flagClipTouch,a=this.throttleFlag;if(e&&a){var n=this.isLockRatio,s=this.isLockHeight,h=this.isLockWidth;if(n&&(h||s))return;this.setDiffData({throttleFlag:!1}),this.throttle();var o=(0,c.clipTouchMoveOfCalculate)(this,i);if(o){var l=o.width,p=o.height,u=o.clipX,f=o.clipY;h||s?h?s||this.setDiffData({clipHeight:p,clipY:f}):this.setDiffData({clipWidth:l,clipX:u}):this.setDiffData({clipWidth:l,clipHeight:p,clipX:u,clipY:f}),this.imgMarginDetectionScale()}}}}else t.showToast({title:"请选择图片",icon:"none"})},clipTouchEnd:function(){this.moveStop(),this.flagClipTouch=!1},imageTouchStart:function(t){this.flagEndTouch=!1;var i=this.imageLeft,e=this.imageTop,a=t.touches[0].clientX,n=t.touches[0].clientY,s=[];if(1===t.touches.length)s[0]={x:a-i,y:n-e},this.touchRelative=s;else{var h=t.touches[1].clientX,o=t.touches[1].clientY,l=Math.abs(a-h),p=Math.abs(n-o),u=(0,c.calcPythagoreanTheorem)(l,p);s=[{x:a-i,y:n-e},{x:h-i,y:o-e}],this.touchRelative=s,this.hypotenuseLength=u}},imageTouchMove:function(t){var i=this.flagEndTouch,e=this.throttleFlag;if(!i&&e){var a=t.touches[0].clientX,n=t.touches[0].clientY;if(this.setDiffData({throttleFlag:!1}),this.throttle(),this.moveDuring(),1===t.touches.length){var s=(0,c.imageTouchMoveOfCalcOffset)(this,a,n),h=s.left,o=s.top;this.setDiffData({imageLeft:h,imageTop:o}),this.imgMarginDetectionPosition()}else{var l=t.touches[1].clientX,p=t.touches[1].clientY,u=Math.abs(a-l),f=Math.abs(n-p),g=(0,c.calcPythagoreanTheorem)(u,f),r=this.scale*(g/this.hypotenuseLength);this.isDisableScale?r=1:(r=(r=r<=this.minRatio?this.minRatio:r)>=this.maxRatio?this.maxRatio:r,this.$emit("change",{width:this.imageWidth*r,height:this.imageHeight*r})),this.imgMarginDetectionScale(r),this.hypotenuseLength=Math.sqrt(Math.pow(u,2)+Math.pow(f,2)),this.scale=r}}},imageTouchEnd:function(){this.setDiffData({flagEndTouch:!0}),this.moveStop()},uploadImage:function(){var i=this,e=Object.entries(this.source),n=["original","compressed"],s=function(t){var e=t.tempFilePaths,a=t.tempFiles;i.image=e?e[0]:a[0].path},h=function(i){"message"!==i&&t.chooseImage({count:1,sizeType:n,sourceType:[i],success:s}),"message"==i&&a.chooseMessageFile({count:1,type:"image",success:s})};e.length>1?t.showActionSheet({itemList:e.map((function(t){return t[1]})),success:function(t){var i=t.tapIndex;h(e[i][0])}}):h(e[0][0])},imageReset:function(){var i=this.sysinfo||t.getSystemInfoSync();this.moveStop(),this.scale=1,this.angle=0,this.imageTop=i.windowHeight/2,this.imageLeft=i.windowWidth/2},imageLoad:function(i){this.imageReset(),t.hideLoading(),this.$emit("ready",i.detail)},rotate:function(i){if(!this.isDisableRotate)if(this.image){var e=this.rotateAngle,a=this.angle,n=i.currentTarget.dataset.type;this.angle="along"===n?a+e:a-e,this.$emit("rotate",this.angle)}else t.showToast({title:"请选择图片",icon:"none"})},confirm:function(){var i=this;if(this.image){t.showLoading({title:"加载中"});var e=this.canvasHeight,a=this.canvasWidth,n=this.clipHeight,s=this.clipWidth,h=this.scale,c=this.ctx,o=this.imageLeft,l=this.imageTop,p=this.clipX,u=this.clipY,f=this.angle,g=this.scaleRatio,r=this.image,m=this.quality,d=this.fileType,v=(this.type,this.canvasId),w=function(){var e=i.imageWidth*h*g,a=i.imageHeight*h*g,w=o-p,D=l-u;c.translate(w*g,D*g),c.rotate(f*Math.PI/180),c.drawImage(r,-e/2,-a/2,e,a),c.draw(!1,(function(){var e=s*g,a=n*g,h={x:0,y:0,width:e,height:a,destWidth:i.destWidth||e,destHeight:i.destHeight||a,canvasId:v,fileType:d,quality:m,success:function(e){c.url=e.tempFilePath||e.filePath,t.hideLoading(),i.$emit("success",c),i.$emit("input",!1)},fail:function(t){console.error("error",t),i.$emit("fail",t),i.$emit("input",!1)}},c={url:"",width:e,height:a};t.canvasToTempFilePath(h,i)}))};a!==s||e!==n?(this.canvasWidth=s,this.canvasHeight=n,c.draw(),this.$nextTick((function(){setTimeout((function(){w()}),100)}))):w()}else t.showToast({title:"请选择图片",icon:"none"})},cancel:function(){this.$emit("cancel",!1),this.$emit("input",!1)}}};i.default=l}).call(this,e("df3c").default,e("3223").default)},b7cc:function(t,i,e){"use strict";e.r(i);var a=e("a4aa"),n=e.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(s);i.default=n.a},cbf5:function(t,i,e){"use strict";e.r(i);var a=e("3460"),n=e("b7cc");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(s);e("9030");var h=e("828b"),c=Object(h.a)(n.default,a.b,a.c,!1,null,"e7472f9a",null,!1,a.a,void 0);i.default=c.exports}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["uni_modules/lime-clipper/components/l-clipper/l-clipper-create-component",{"uni_modules/lime-clipper/components/l-clipper/l-clipper-create-component":function(t,i,e){e("df3c").createComponent(e("cbf5"))}},[["uni_modules/lime-clipper/components/l-clipper/l-clipper-create-component"]]]);
},{isPage:false,isComponent:true,currentFile:'uni_modules/lime-clipper/components/l-clipper/l-clipper.js'});require("uni_modules/lime-clipper/components/l-clipper/l-clipper.js");